{"version":3,"file":"component---src-pages-climate-change-graphs-global-temp-js-26e85a446750633ed71a.js","mappings":"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","sources":["webpack://personal-website/./node_modules/d3-fetch/src/text.js","webpack://personal-website/./src/pages/climate-change/graphs/globalTemp.js"],"sourcesContent":["function responseText(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.text();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseText);\n}\n","import React, { useState, useEffect } from 'react';\nimport ReactEcharts from 'echarts-for-react';\nimport * as echarts from 'echarts';\nimport { text } from 'd3-fetch';\nimport styled from 'styled-components';\n\nimport { Link } from 'gatsby';\nimport { initialOption, parseGiss, initialDataZoom } from './common';\n\nconst Graph = styled.div`\n   width: 100%;\n    box-sizing: border-box;\n    margin-right: auto;\n    margin-left: auto;\n    padding-top: 1.5em;\n    padding-bottom: 1.5em;\n`;\n\nconst Source = styled.div`\n  font-size: small;\n`;\n\nconst GraphTitle = styled.div`\n  font-weight: bold;\n`;\n\nconst GraphDescription = styled.div`\n`;\n\nconst GlobalTemp = () => {\n  const [option, updateOption] = useState(initialOption());\n\n  const loadData = () => {\n    text('/data/647_Global_Temperature_Data_File.txt').then((gissObj) => {\n      const newOption = initialOption();\n      const gissData = parseGiss(gissObj);\n      const xData = gissData.map(d => +d[0]);\n      const yData = gissData.map(d => +d[1]);\n      const xyData = gissData.map((_, i) => [xData[i], yData[i]]);\n\n      newOption.xAxis.type = 'value';\n      newOption.xAxis.min = Math.min(...xData);\n      newOption.xAxis.axisLabel = {\n        formatter: e => e.toString(),\n      };\n\n      newOption.xAxis.max = Math.max(...xData);\n      newOption.yAxis.min = -0.7;\n      newOption.yAxis.max = 1.5;\n\n      newOption.tooltip.formatter = (e) => {\n        const value = e[0].data[1];\n        const sign = value >= 0 ? '+' : '';\n        return `${e[0].marker} ${sign + value} Â°C in ${e[0].data[0]}`;\n      };\n\n      newOption.series = [\n        {\n          name: 'nasa_giss_1y',\n          type: 'line',\n          showSymbol: false,\n          data: xyData,\n          areaStyle: {\n            normal: {\n              color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                offset: -1 * newOption.yAxis.min / newOption.yAxis.max,\n                color: 'rgb(242, 0, 80)',\n              }, {\n                offset: 1,\n                color: 'rgb(247, 83, 187)',\n              }]),\n            },\n          },\n          markLine: {\n            data: [{ yAxis: yData[yData.length - 1], x: '70%' }],\n            label: {\n              normal: {\n                formatter: () => xData[xData.length - 1],\n                position: 'start',\n              },\n            },\n          },\n        },\n        {\n          name: 'last',\n          type: 'scatter',\n          data: [xyData[xyData.length - 1]],\n          symbolSize: 10,\n        },\n      ];\n      updateOption(newOption);\n    });\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  return (\n    <Graph>\n      <GraphTitle>Temperature anomalies</GraphTitle>\n      <GraphDescription>&deg;C compared to 1951-1980 average</GraphDescription>\n      <ReactEcharts\n        option={option}\n        notMerge\n      />\n      <Source>\n        Source:\n        {' '}\n        <Link\n          outward\n          href=\"https://climate.nasa.gov/vital-signs/global-temperature/\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          NASA&apos;s Goddard Institute for Space Studies (GISS)\n        </Link>\n        {' '}(\n        <Link\n          outward\n          href=\"https://data.giss.nasa.gov/gistemp/graphs/graph_data/Global_Mean_Estimates_based_on_Land_and_Ocean_Data/graph.txt\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          data\n        </Link>\n        )\n      </Source>\n    </Graph>\n  );\n};\n\nexport default GlobalTemp;\n"],"names":["responseText","response","ok","Error","status","statusText","text","input","init","fetch","then","Graph","styled","div","withConfig","displayName","componentId","Source","GraphTitle","GraphDescription","GlobalTemp","option","updateOption","useState","initialOption","useEffect","gissObj","newOption","gissData","parseGiss","xData","map","d","yData","xyData","_","i","xAxis","type","min","Math","apply","_toConsumableArray","axisLabel","formatter","e","toString","max","yAxis","tooltip","value","data","sign","marker","series","name","showSymbol","areaStyle","normal","color","echarts","LinearGradient","offset","markLine","length","x","label","position","symbolSize","React","ReactEcharts","notMerge","Link","outward","href","target","rel"],"sourceRoot":""}