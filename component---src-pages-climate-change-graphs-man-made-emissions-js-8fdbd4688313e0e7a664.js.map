{"version":3,"sources":["webpack:///./node_modules/d3-array/src/ascending.js","webpack:///./node_modules/d3-array/src/bisector.js","webpack:///./node_modules/d3-array/src/bisect.js","webpack:///./node_modules/d3-array/src/cross.js","webpack:///./node_modules/d3-array/src/descending.js","webpack:///./node_modules/d3-array/src/number.js","webpack:///./node_modules/d3-array/src/array.js","webpack:///./node_modules/d3-array/src/range.js","webpack:///./node_modules/d3-array/src/ticks.js","webpack:///./node_modules/d3-array/src/threshold/sturges.js","webpack:///./node_modules/d3-array/src/quantile.js","webpack:///./node_modules/d3-array/src/mean.js","webpack:///./node_modules/d3-array/src/sum.js","webpack:///./src/pages/climate-change/graphs/manMadeEmissions.js"],"names":["a","b","NaN","f","compare","length","d","x","ascending","left","lo","hi","mid","right","ascendingBisect","bisector","bisectRight","bisect","Array","prototype","slice","map","start","stop","step","n","arguments","i","Math","max","ceil","range","e10","sqrt","e5","e2","reverse","ticks","count","tickIncrement","isFinite","floor","power","log","LN10","error","pow","tickStep","step0","abs","step1","valueof","number","values","p","i0","value0","value","m","sum","isNaN","Graph","styled","div","withConfig","displayName","componentId","Source","GraphTitle","GraphDescription","ManMadeEmissions","_useState","useState","initialOption","option","updateOption","useEffect","data","name","color","total","forEach","newOption","grid","xAxis","type","axisLabel","formatter","bottom","yAxis","tooltip","trigger","series","echarts","itemStyle","normal","label","show","position","e","round","loadData","React","createElement","ReactEcharts","notMerge","Link","outward","href"],"mappings":"kdAAe,oBACb,OAAOA,EAAIC,GAAK,EAAID,EAAIC,EAAI,EAAID,GAAKC,EAAI,EAAIC,KCAhC,cAuBf,IAA6BC,EArB3B,OADuB,IAAnBC,EAAQC,SAsBeF,EAtB6BC,EAA9BA,EAuBnB,SAAUE,EAAGC,GAClB,OAAOC,EAAUL,EAAEG,GAAIC,KAvBlB,CACLE,KAAM,SAAcT,EAAGO,EAAGG,EAAIC,GAG5B,IAFU,MAAND,IAAYA,EAAK,GACX,MAANC,IAAYA,EAAKX,EAAEK,QAChBK,EAAKC,GAAI,CACd,IAAIC,EAAMF,EAAKC,IAAO,EAClBP,EAAQJ,EAAEY,GAAML,GAAK,EAAGG,EAAKE,EAAM,EAAOD,EAAKC,EAErD,OAAOF,GAETG,MAAO,SAAeb,EAAGO,EAAGG,EAAIC,GAG9B,IAFU,MAAND,IAAYA,EAAK,GACX,MAANC,IAAYA,EAAKX,EAAEK,QAChBK,EAAKC,GAAI,CACd,IAAIC,EAAMF,EAAKC,IAAO,EAClBP,EAAQJ,EAAEY,GAAML,GAAK,EAAGI,EAAKC,EAASF,EAAKE,EAAM,EAEvD,OAAOF,KClBb,IAAII,EAAkBC,EAASP,GACpBQ,EAAcF,EAAgBD,MAE1BI,GADSH,EAAgBL,KACzB,GCJA,ICDA,gBACb,OAAOR,EAAID,GAAK,EAAIC,EAAID,EAAI,EAAIC,GAAKD,EAAI,EAAIE,KCDhC,cACb,OAAa,OAANK,EAAaL,KAAOK,GCDzB,EAAQW,MAAMC,UCAH,GDCI,EAAMC,MACR,EAAMC,ICFR,gBACbC,GAASA,EAAOC,GAAQA,EAAMC,GAAQC,EAAIC,UAAUrB,QAAU,GAAKkB,EAAOD,EAAOA,EAAQ,EAAG,GAAKG,EAAI,EAAI,GAAKD,EAI9G,IAHA,IAAIG,GAAK,EACPF,EAAoD,EAAhDG,KAAKC,IAAI,EAAGD,KAAKE,MAAMP,EAAOD,GAASE,IAC3CO,EAAQ,IAAIb,MAAMO,KACXE,EAAIF,GACXM,EAAMJ,GAAKL,EAAQK,EAAIH,EAEzB,OAAOO,ICRLC,EAAMJ,KAAKK,KAAK,IAClBC,EAAKN,KAAKK,KAAK,IACfE,EAAKP,KAAKK,KAAK,GACF,kBACb,IAAIG,EAEFX,EACAY,EACAb,EAHAG,GAAK,EAKP,GAD8BW,GAASA,GAAzBhB,GAASA,MAAvBC,GAAQA,IACce,EAAQ,EAAG,MAAO,CAAChB,GAEzC,IADIc,EAAUb,EAAOD,KAAOG,EAAIH,EAAOA,EAAQC,EAAMA,EAAOE,GACT,KAA9CD,EAAOe,EAAcjB,EAAOC,EAAMe,MAAkBE,SAAShB,GAAO,MAAO,GAChF,GAAIA,EAAO,EAIT,IAHAF,EAAQM,KAAKE,KAAKR,EAAQE,GAC1BD,EAAOK,KAAKa,MAAMlB,EAAOC,GACzBa,EAAQ,IAAInB,MAAMO,EAAIG,KAAKE,KAAKP,EAAOD,EAAQ,MACtCK,EAAIF,GAAGY,EAAMV,IAAML,EAAQK,GAAKH,OAKzC,IAHAF,EAAQM,KAAKa,MAAMnB,EAAQE,GAC3BD,EAAOK,KAAKE,KAAKP,EAAOC,GACxBa,EAAQ,IAAInB,MAAMO,EAAIG,KAAKE,KAAKR,EAAQC,EAAO,MACtCI,EAAIF,GAAGY,EAAMV,IAAML,EAAQK,GAAKH,EAG3C,OADIY,GAASC,EAAMD,UACZC,GAEF,SAASE,EAAcjB,EAAOC,EAAMe,GACzC,IAAId,GAAQD,EAAOD,GAASM,KAAKC,IAAI,EAAGS,GACtCI,EAAQd,KAAKa,MAAMb,KAAKe,IAAInB,GAAQI,KAAKgB,MACzCC,EAAQrB,EAAOI,KAAKkB,IAAI,GAAIJ,GAC9B,OAAOA,GAAS,GAAKG,GAASb,EAAM,GAAKa,GAASX,EAAK,EAAIW,GAASV,EAAK,EAAI,GAAKP,KAAKkB,IAAI,GAAIJ,IAAUd,KAAKkB,IAAI,IAAKJ,IAAUG,GAASb,EAAM,GAAKa,GAASX,EAAK,EAAIW,GAASV,EAAK,EAAI,GAEpL,SAASY,EAASzB,EAAOC,EAAMe,GACpC,IAAIU,EAAQpB,KAAKqB,IAAI1B,EAAOD,GAASM,KAAKC,IAAI,EAAGS,GAC/CY,EAAQtB,KAAKkB,IAAI,GAAIlB,KAAKa,MAAMb,KAAKe,IAAIK,GAASpB,KAAKgB,OACvDC,EAAQG,EAAQE,EAElB,OADIL,GAASb,EAAKkB,GAAS,GAAYL,GAASX,EAAIgB,GAAS,EAAWL,GAASV,IAAIe,GAAS,GACvF3B,EAAOD,GAAS4B,EAAQA,E,UCtClB,ICCA,kBAEb,GADe,MAAXC,IAAiBA,EAAUC,GACzB3B,EAAI4B,EAAOhD,OAAjB,CACA,IAAKiD,GAAKA,IAAM,GAAK7B,EAAI,EAAG,OAAQ0B,EAAQE,EAAO,GAAI,EAAGA,GAC1D,GAAIC,GAAK,EAAG,OAAQH,EAAQE,EAAO5B,EAAI,GAAIA,EAAI,EAAG4B,GAClD,IAAI5B,EACFE,GAAKF,EAAI,GAAK6B,EACdC,EAAK3B,KAAKa,MAAMd,GAChB6B,GAAUL,EAAQE,EAAOE,GAAKA,EAAIF,GAEpC,OAAOG,IADKL,EAAQE,EAAOE,EAAK,GAAIA,EAAK,EAAGF,GAClBG,IAAW7B,EAAI4B,KCV5B,gBACb,IAGEE,EAHEhC,EAAI4B,EAAOhD,OACbqD,EAAIjC,EACJE,GAAK,EAELgC,EAAM,EACR,GAAe,MAAXR,EACF,OAASxB,EAAIF,GACNmC,MAAMH,EAAQL,EAAOC,EAAO1B,OAA0B+B,EAApBC,GAAOF,OAGhD,OAAS9B,EAAIF,GACNmC,MAAMH,EAAQL,EAAOD,EAAQE,EAAO1B,GAAIA,EAAG0B,OAA+BK,EAApBC,GAAOF,EAGtE,GAAIC,EAAG,OAAOC,EAAMD,GChBP,gBACb,IAEED,EAFEhC,EAAI4B,EAAOhD,OACbsB,GAAK,EAELgC,EAAM,EACR,GAAe,MAAXR,EACF,OAASxB,EAAIF,IACPgC,GAASJ,EAAO1B,MAAIgC,GAAOF,QAGjC,OAAS9B,EAAIF,IACPgC,GAASN,EAAQE,EAAO1B,GAAIA,EAAG0B,MAASM,GAAOF,GAGvD,OAAOE,I,kCCdT,iHASME,EAAQC,IAAOC,IAAGC,WAAA,CAAAC,YAAA,0BAAAC,YAAA,eAAVJ,CAAU,iHASlBK,EAASL,IAAOC,IAAGC,WAAA,CAAAC,YAAA,2BAAAC,YAAA,eAAVJ,CAAU,sBAInBM,EAAaN,IAAOC,IAAGC,WAAA,CAAAC,YAAA,+BAAAC,YAAA,eAAVJ,CAAU,uBAIvBO,EAAmBP,IAAOC,IAAGC,WAAA,CAAAC,YAAA,qCAAAC,YAAA,eAAVJ,CAAU,MA6EpBQ,UA1EU,WACvB,IAAAC,EAA+BC,mBAASC,2BAAjCC,EAAMH,EAAA,GAAEI,EAAYJ,EAAA,GAwD3B,OAJAK,qBAAU,YAlDO,WACf,IAAMC,EAAO,CACX,CAAEC,KAAM,4BAA6BrB,MAAO,KAAMsB,MAAO,WACzD,CAAED,KAAM,iCAAkCrB,MAAO,KAAMsB,MAAO,WAC9D,CAAED,KAAM,2CAA4CrB,MAAO,IAAWsB,MAAO,YAC7E3C,UAGI4C,EAAQrB,YAAIkB,GAAM,SAAAvE,GAAC,OAAIA,EAAEmD,SAC/BoB,EAAKI,SAAQ,SAAC3E,GACZA,EAAEmD,OAASuB,EAAQ,OAGrB,IAAME,EAAYT,0BAElBS,EAAUC,KAAK1E,KAAO,IAEtByE,EAAUE,MAAMC,KAAO,QACvBH,EAAUE,MAAME,UAAY,CAAEC,UAAW,YACzCL,EAAUC,KAAKK,OAAS,GAExBN,EAAUO,MAAMZ,KAAOA,EAAKxD,KAAI,SAAAf,GAAC,OAAIA,EAAEwE,QAEvCI,EAAUQ,QAAQC,QAAU,OAE5BT,EAAUU,OAAS,CACjB,CACEP,KAAM,MACNR,KAAMgB,OAAaxE,IAAIwD,GAAM,SAAAvE,GAAC,MAAK,CACjCmD,MAAOnD,EAAEmD,MACTqC,UAAW,CACTC,OAAQ,CACNhB,MAAOzE,EAAEyE,YAIfiB,MAAO,CACLD,OAAQ,CACNE,MAAM,EACNC,SAAU,QACVX,UAAS,SAACY,GACR,OAAUvE,KAAKwE,MAAMD,EAAEtB,KAAKpB,OAAM,SAM5CkB,EAAaO,GAIbmB,KACC,IAGDC,IAAAC,cAAC1C,EAAK,KACJyC,IAAAC,cAACnC,EAAU,KAAC,6CACZkC,IAAAC,cAAClC,EAAgB,KAAC,cAClBiC,IAAAC,cAACC,IAAY,CACX9B,OAAQA,EACR+B,UAAQ,IAEVH,IAAAC,cAACpC,EAAM,KAAC,UAEL,IACDmC,IAAAC,cAACG,IAAI,CAACC,SAAO,EAACC,KAAK,sDAAqD,qBAAyB,0BAAsBN,IAAAC,cAACG,IAAI,CAACC,SAAO,EAACC,KAAK,sGAAqG,kBAAqB","file":"component---src-pages-climate-change-graphs-man-made-emissions-js-8fdbd4688313e0e7a664.js","sourcesContent":["export default function (a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}","import ascending from \"./ascending\";\nexport default function (compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function left(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n      }\n      return lo;\n    },\n    right: function right(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\nfunction ascendingComparator(f) {\n  return function (d, x) {\n    return ascending(f(d), x);\n  };\n}","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;","import { pair } from \"./pairs\";\nexport default function (values0, values1, reduce) {\n  var n0 = values0.length,\n    n1 = values1.length,\n    values = new Array(n0 * n1),\n    i0,\n    i1,\n    i,\n    value0;\n  if (reduce == null) reduce = pair;\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n  return values;\n}","export default function (a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}","export default function (x) {\n  return x === null ? NaN : +x;\n}","var array = Array.prototype;\nexport var slice = array.slice;\nexport var map = array.map;","export default function (start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n  var i = -1,\n    n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n    range = new Array(n);\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n  return range;\n}","var e10 = Math.sqrt(50),\n  e5 = Math.sqrt(10),\n  e2 = Math.sqrt(2);\nexport default function (start, stop, count) {\n  var reverse,\n    i = -1,\n    n,\n    ticks,\n    step;\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n  if (reverse) ticks.reverse();\n  return ticks;\n}\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n    power = Math.floor(Math.log(step) / Math.LN10),\n    error = step / Math.pow(10, power);\n  return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n    step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n    error = step0 / step1;\n  if (error >= e10) step1 *= 10;else if (error >= e5) step1 *= 5;else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}","export default function (values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}","import number from \"./number\";\nexport default function (values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n    i = (n - 1) * p,\n    i0 = Math.floor(i),\n    value0 = +valueof(values[i0], i0, values),\n    value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}","import number from \"./number\";\nexport default function (values, valueof) {\n  var n = values.length,\n    m = n,\n    i = -1,\n    value,\n    sum = 0;\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) sum += value;else --m;\n    }\n  } else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) sum += value;else --m;\n    }\n  }\n  if (m) return sum / m;\n}","export default function (values, valueof) {\n  var n = values.length,\n    i = -1,\n    value,\n    sum = 0;\n  if (valueof == null) {\n    while (++i < n) {\n      if (value = +values[i]) sum += value; // Note: zero and null are equivalent.\n    }\n  } else {\n    while (++i < n) {\n      if (value = +valueof(values[i], i, values)) sum += value;\n    }\n  }\n  return sum;\n}","import React, { useState, useEffect } from 'react';\nimport ReactEcharts from 'echarts-for-react';\nimport * as echarts from 'echarts';\nimport { sum } from 'd3-array';\nimport styled from 'styled-components';\n\nimport { Link } from 'gatsby';\nimport { initialOption, parseGiss, initialDataZoom } from './common';\n\nconst Graph = styled.div`\n   width: 100%;\n    box-sizing: border-box;\n    margin-right: auto;\n    margin-left: auto;\n    padding-top: 1.5em;\n    padding-bottom: 1.5em;\n`;\n\nconst Source = styled.div`\n  font-size: small;\n`;\n\nconst GraphTitle = styled.div`\n  font-weight: bold;\n`;\n\nconst GraphDescription = styled.div`\n`;\n\nconst ManMadeEmissions = () => {\n  const [option, updateOption] = useState(initialOption());\n\n  const loadData = () => {\n    const data = [\n      { name: 'Fossil fuels\\nconsumption', value: 73.2, color: '#c23531' },\n      { name: 'Agriculture and\\ndeforestation', value: 18.4, color: '#749f83' },\n      { name: 'Non-energy related\\nindustrial processes', value: 5.2 + 3.2, color: '#546570' },\n    ].reverse();\n\n    // Percentage\n    const total = sum(data, d => d.value);\n    data.forEach((d) => {\n      d.value /= total / 100;\n    });\n\n    const newOption = initialOption();\n\n    newOption.grid.left = 130;\n\n    newOption.xAxis.type = 'value';\n    newOption.xAxis.axisLabel = { formatter: '{value}%' };\n    newOption.grid.bottom = 50;\n\n    newOption.yAxis.data = data.map(d => d.name);\n\n    newOption.tooltip.trigger = 'none';\n\n    newOption.series = [\n      {\n        type: 'bar',\n        data: echarts.util.map(data, d => ({\n          value: d.value,\n          itemStyle: {\n            normal: {\n              color: d.color,\n            },\n          },\n        })),\n        label: {\n          normal: {\n            show: true,\n            position: 'right',\n            formatter(e) {\n              return `${Math.round(e.data.value)}%`;\n            },\n          },\n        },\n      },\n    ];\n    updateOption(newOption);\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  return (\n    <Graph>\n      <GraphTitle>Man-made greenhouse gas emissions in 2016</GraphTitle>\n      <GraphDescription>% of total</GraphDescription>\n      <ReactEcharts\n        option={option}\n        notMerge\n      />\n      <Source>\n        Source:\n        {' '}\n        <Link outward href=\"https://ourworldindata.org/ghg-emissions-by-sector\">Our World In Data</Link>, more details in this <Link outward href=\"https://wriorg.s3.amazonaws.com/s3fs-public/world-greenhouse-gas-emissions-sankey-chart-2019_0.pdf\">sankey diagram</Link>.\n      </Source>\n    </Graph>\n  );\n};\n\nexport default ManMadeEmissions;\n"],"sourceRoot":""}