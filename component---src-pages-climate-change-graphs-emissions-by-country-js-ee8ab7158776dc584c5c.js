"use strict";(self.webpackChunkpersonal_website=self.webpackChunkpersonal_website||[]).push([[453,937],{17787:function(t,e,n){function o(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}n.d(e,{h1:function(){return s},rG:function(){return l},i2:function(){return g},y1:function(){return w},cz:function(){return x},lq:function(){return f},sG:function(){return m},Zc:function(){return d}});var r,i,a=(1===(r=o).length&&(i=r,r=function(t,e){return o(i(t),e)}),{left:function(t,e,n,o){for(null==n&&(n=0),null==o&&(o=t.length);n<o;){var i=n+o>>>1;r(t[i],e)<0?n=i+1:o=i}return n},right:function(t,e,n,o){for(null==n&&(n=0),null==o&&(o=t.length);n<o;){var i=n+o>>>1;r(t[i],e)>0?o=i:n=i+1}return n}}),s=a.right;function l(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}var u=Array.prototype,c=(u.slice,u.map,Math.sqrt(50)),h=Math.sqrt(10),p=Math.sqrt(2);function d(t,e,n){var o,r,i,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((o=e<t)&&(r=t,t=e,e=r),0===(a=f(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),i=new Array(r=Math.ceil(e-t+1));++s<r;)i[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),i=new Array(r=Math.ceil(t-e+1));++s<r;)i[s]=(t-s)/a;return o&&i.reverse(),i}function f(t,e,n){var o=(e-t)/Math.max(0,n),r=Math.floor(Math.log(o)/Math.LN10),i=o/Math.pow(10,r);return r>=0?(i>=c?10:i>=h?5:i>=p?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(i>=c?10:i>=h?5:i>=p?2:1)}function m(t,e,n){var o=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),i=o/r;return i>=c?r*=10:i>=h?r*=5:i>=p&&(r*=2),e<t?-r:r}function y(t){return null===t?NaN:+t}function g(t,e){var n,o=t.length,r=o,i=-1,a=0;if(null==e)for(;++i<o;)isNaN(n=y(t[i]))?--r:a+=n;else for(;++i<o;)isNaN(n=y(e(t[i],i,t)))?--r:a+=n;if(r)return a/r}function w(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var o=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(r);++o<r;)i[o]=t+o*n;return i}function x(t,e){var n,o=t.length,r=-1,i=0;if(null==e)for(;++r<o;)(n=+t[r])&&(i+=n);else for(;++r<o;)(n=+e(t[r],r,t))&&(i+=n);return i}},10617:function(t,e,n){function o(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function r(t,e){return fetch(t,e).then(o)}n.d(e,{A:function(){return r}})},18241:function(t,e,n){n.r(e);var o=n(96540),r=n(93749),i=n(7609),a=n(10617),s=n(17787),l=n(27005),u=n(64810),c=n(49597);const h=l.Ay.div.withConfig({displayName:"emissionsByCountry__Graph",componentId:"sc-1grjvcw-0"})(["width:100%;box-sizing:border-box;margin-right:auto;margin-left:auto;padding-top:1.5em;padding-bottom:1.5em;"]),p=l.Ay.div.withConfig({displayName:"emissionsByCountry__Source",componentId:"sc-1grjvcw-1"})(["font-size:small;"]),d=l.Ay.div.withConfig({displayName:"emissionsByCountry__GraphTitle",componentId:"sc-1grjvcw-2"})(["font-weight:bold;"]),f=l.Ay.div.withConfig({displayName:"emissionsByCountry__GraphDescription",componentId:"sc-1grjvcw-3"})([""]);e.default=()=>{const{0:t,1:e}=(0,o.useState)((0,c.initialOption)());return(0,o.useEffect)((()=>{(0,a.A)("/data/WorldResourcesInstituteCAIT.csv").then((t=>{const n=t.split("\n").filter(((t,e)=>e>0)).map((t=>t.split(',"').map((t=>t.replace('"',"").replace('"',""))))).filter((t=>-1===["World","European Union (28)","European Union (15)"].indexOf(t[0])&&t[1]===2014..toString()&&""!==t[4])).map((t=>({name:t[0],intensity:1e6*+t[2]/+t[4],population:+t[4]/1e9}))).sort(((t,e)=>(0,s.rG)(t.intensity,e.intensity))),o=(0,s.cz)(n,(t=>t.population));n.forEach((t=>{t.population/=o/100}));const r=(0,s.cz)(n,(t=>t.population*t.intensity)),a=[[0,n[0].population,n[0].intensity,n[0].name]];n.forEach(((t,e)=>{if(0===e)return;const n=a[a.length-1][1];a.push([n,n+t.population,t.intensity,t.name])}));const l=(0,c.initialOption)();l.xAxis.name="of world population",l.xAxis.nameLocation="middle",l.xAxis.position="bottom",l.xAxis.nameGap=50,l.xAxis.axisLabel={formatter:"{value}%",margin:30},l.grid.bottom=80,l.yAxis.name="personal footprint",l.yAxis.nameLocation="middle",l.yAxis.nameRotate=90,l.yAxis.nameGap=35,l.yAxis.axisLabel={formatter:"{value}t"},l.dataZoom=(0,c.initialDataZoom)(),l.dataZoom[0].bottom=l.grid.bottom-20,l.dataZoom[0].startValue=1,l.dataZoom[0].endValue=100,l.dataZoom[0].labelFormatter="",l.dataZoom[0].filterMode="weakFilter",l.tooltip.trigger="item",l.tooltip.formatter=t=>{if("series"!==t.componentType)return;const e=n[t.dataIndex],o=Math.round(e.intensity),i=Math.round(e.population*e.intensity*1e4/r)/100;return`${e.name}: ${o} tons / person / year <br />${i}% of total emissions`},l.grid.right=100,l.series=[{type:"custom",renderItem:function(t,e){const n=e.value(2),o=e.coord([e.value(0),n]),r=e.size([e.value(1)-e.value(0),n]),a=e.style();return{type:"rect",shape:i.graphic.clipRectByRect({x:o[0],y:o[1],width:r[0],height:r[1]},{x:t.coordSys.x,y:t.coordSys.y,width:t.coordSys.width,height:t.coordSys.height}),style:a}},dimensions:["from","to","intensity"],encode:{x:[0,1],y:2,tooltip:[0,1,2],label:3,itemName:3},data:a,itemStyle:{normal:{color:new i.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(255, 64, 30)"},{offset:1,color:"orange"}]),borderColor:"black",borderWidth:.1}},markLine:{symbol:"none",data:[{yAxis:2}],label:{normal:{formatter:"Paris 2t objective 2050",position:"end"}},lineStyle:{normal:{color:"darkgreen",width:3}}}}],e(l)}))}),[]),o.createElement(h,null,o.createElement(d,null,"World greenhouse gas emissions by country in 2014"),o.createElement(f,null,"in tCO",o.createElement("sub",null,"2"),"eq per person per year"),o.createElement(r.A,{option:t,notMerge:!0}),o.createElement(p,null,"Source:"," ",o.createElement(u.N_,{outward:!0,href:"http://www.wri.org/resources/data-sets/cait-historical-emissions-data-countries-us-states-unfccc",target:"_blank"},"World Resource Institute")," ","(",o.createElement(u.N_,{outward:!0,href:"http://cait.wri.org/historical/export/Country%20GHG%20Emissions/WorldResourcesInstituteCAIT.csv?&keyField=Country&unit=MtCO2e&unit=MtCO%E2%82%82e%E2%80%8D&unit=People&indicator[]=Total%20GHG%20Emissions%20Excluding%20Land-Use%20Change%20and%20Forestry&indicator[]=Total%20GHG%20Emissions%20Including%20Land-Use%20Change%20and%20Forestry&indicator[]=Population&year[]=2014&sortIdx=1&sortDir=desc&chartType=geo",target:"_blank"},"data"),") Each square represents a country. Its height represents the average personal footprint (to be compared against the 2tÂ objective), and its width represents the number of people in that country. The area therefore represents the total amount of emissions from a given country."))}}}]);
//# sourceMappingURL=component---src-pages-climate-change-graphs-emissions-by-country-js-ee8ab7158776dc584c5c.js.map