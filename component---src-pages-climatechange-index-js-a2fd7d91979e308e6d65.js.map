{"version":3,"sources":["webpack:///./src/pages/climatechange/graphs/electricity.js","webpack:///./src/pages/climatechange/graphs/manMadeEmissions.js","webpack:///./src/pages/climatechange/graphs/atmosphericCo2.js","webpack:///./src/pages/climatechange/graphs/food.js","webpack:///./src/pages/climatechange/graphs/transportation.js","webpack:///./src/pages/climatechange/graphs/globalTemp.js","webpack:///./src/pages/climatechange/graphs/emissionsByCountry.js","webpack:///./src/pages/climatechange/graphs/relativeChanges.js","webpack:///./src/pages/climatechange/index.js","webpack:///./src/pages/climatechange/graphs/tempAnnomalies.js"],"names":["Graph","styled","div","Source","GraphTitle","GraphDescription","Electricity","useState","initialOption","option","updateOption","useEffect","modeColor","data","newOption","wind","solar","hydro","biomass","geothermal","nuclear","gas","coal","oil","name","intensity","reverse","xAxis","nameLocation","nameGap","grid","bottom","type","yAxis","map","d","left","tooltip","trigger","series","echarts","value","itemStyle","normal","color","label","show","position","notMerge","outward","href","ManMadeEmissions","total","sum","forEach","axisLabel","formatter","e","Math","round","loadData","AtmosphericCo2","a","splitDate","Promise","all","text","icecoreObj","mloObj","split","filter","i","r","isFinite","push","toString","min","max","dataZoom","initialDataZoom","startValue","yValue","xValue","year","marker","showSymbol","areaStyle","LinearGradient","offset","markLine","x","length","symbolSize","target","rel","mapping","Food","d3","then","response","Object","keys","find","transportIntensity","parseFloat","packagingAndRetailIntensity","k","reduce","b","productionIntensity","legend","values","stack","ceil","dataIndex","style","height","Transportation","GlobalTemp","gissObj","gissData","parseGiss","xData","yData","xyData","_","sign","EmissionsByCountry","obj","s","replace","indexOf","population","sort","descending","totalPopulation","totalEmissions","chartData","from","margin","nameRotate","endValue","labelFormatter","filterMode","componentType","emissionPercent","right","renderItem","params","api","start","coord","size","shape","clipRectByRect","y","width","coordSys","dimensions","encode","itemName","borderColor","borderWidth","symbol","lineStyle","rawData","header","j","sums","row","h","undefined","Contrails","LUC","Volcano","Solar","CO2","cumSum","unshift","e0","seriesName","isWarming","barBorderColor","emphasis","barGap","Disclamer","p","ToC","ClimateChange","location","title","description","previewImageURL","marginTop","rhythm","id","src","TempAnnomalies","marcottObj","marcottData","dsvFormat","parse","marcottBaseline","delta","mean"],"mappings":"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","file":"component---src-pages-climatechange-index-js-a2fd7d91979e308e6d65.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactEcharts from 'echarts-for-react';\nimport * as echarts from 'echarts';\nimport { text } from 'd3-fetch';\nimport styled from 'styled-components';\n\nimport { Link } from 'gatsby';\nimport { initialOption, parseGiss, initialDataZoom } from './common';\n\nconst Graph = styled.div`\n   width: 100%;\n    box-sizing: border-box;\n    margin-right: auto;\n    margin-left: auto;\n    padding-top: 1.5em;\n    padding-bottom: 1.5em;\n`;\n\nconst Source = styled.div`\n  font-size: small;\n`;\n\nconst GraphTitle = styled.div`\n  font-weight: bold;\n`;\n\nconst GraphDescription = styled.div`\n`;\n\nconst Electricity = () => {\n  const [option, updateOption] = useState(initialOption());\n\n  const loadData = () => {\n    const modeColor = {\n      wind: '#74cdb9',\n      solar: '#f27406',\n      hydro: '#2772b2',\n      'wind + storage': '#2772b2',\n      biomass: '#166a57',\n      geothermal: 'yellow',\n      nuclear: '#AEB800',\n      gas: '#bb2f51',\n      coal: '#ac8c35',\n      oil: '#867d66',\n    };\n\n    const data = [\n      { name: 'wind', intensity: 12 },\n      { name: 'wind + storage', intensity: null },\n      { name: 'solar', intensity: 45 },\n      { name: 'solar + storage', intensity: 100 },\n      { name: 'hydro', intensity: 24 },\n      { name: 'geothermal', intensity: 38 },\n      { name: 'biomass', intensity: 230 },\n      { name: 'nuclear', intensity: 12 },\n      { name: 'gas', intensity: 490 },\n      { name: 'oil', intensity: 650 },\n      { name: 'coal', intensity: 820 },\n    ].reverse();\n\n    const newOption = initialOption();\n\n    newOption.xAxis.name = 'Greenhouse gas intensity in gCO₂eq per kWh consumed';\n    newOption.xAxis.nameLocation = 'middle';\n    newOption.xAxis.nameGap = 30;\n    newOption.grid.bottom = 50;\n\n    newOption.xAxis.type = 'value';\n    newOption.yAxis.data = data.map(d => d.name);\n\n    newOption.grid.left = 90;\n\n    newOption.tooltip.trigger = 'none';\n\n    newOption.series = [\n      {\n        type: 'bar',\n        data: echarts.util.map(data, d => ({\n          value: d.intensity,\n          itemStyle: {\n            normal: {\n              color: modeColor[d.name],\n            },\n          },\n        })),\n        label: {\n          normal: {\n            show: true,\n            position: 'right',\n          },\n        },\n      },\n    ];\n    updateOption(newOption);\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  return (\n    <Graph>\n      <GraphTitle>Greenhouse gas intensity of electricity production modes</GraphTitle>\n      <GraphDescription>\n        in gCO\n        <sub>2</sub>\n        eq / kWh consumed\n      </GraphDescription>\n      <ReactEcharts\n        option={option}\n        notMerge\n      />\n      <Source>\n        Source: Life cycle emissions from\n        {' '}\n        <Link outward href=\"https://github.com/tmrowco/electricitymap#carbon-intensity-calcuation-and-data-source\">Electricity Maps</Link>\n        {' '} (\n        <Link outward href=\"https://github.com/tmrowco/electricitymap/blob/master/config/co2eq_parameters.js\">data</Link>\n        ) and {' '}\n        <Link outward href=\"http://www.lowtechmagazine.com/2015/05/sustainability-off-grid-solar-power.html\">How Sustainable is Stored Sunlight?</Link>\n        {' '} for solar + storage intensity estimations.\n      </Source>\n    </Graph>\n  );\n};\n\nexport default Electricity;\n","import React, { useState, useEffect } from 'react';\nimport ReactEcharts from 'echarts-for-react';\nimport * as echarts from 'echarts';\nimport { sum } from 'd3-array';\nimport styled from 'styled-components';\n\nimport { Link } from 'gatsby';\nimport { initialOption, parseGiss, initialDataZoom } from './common';\n\nconst Graph = styled.div`\n   width: 100%;\n    box-sizing: border-box;\n    margin-right: auto;\n    margin-left: auto;\n    padding-top: 1.5em;\n    padding-bottom: 1.5em;\n`;\n\nconst Source = styled.div`\n  font-size: small;\n`;\n\nconst GraphTitle = styled.div`\n  font-weight: bold;\n`;\n\nconst GraphDescription = styled.div`\n`;\n\nconst ManMadeEmissions = () => {\n  const [option, updateOption] = useState(initialOption());\n\n  const loadData = () => {\n    const data = [\n      { name: 'Fossil fuels\\nconsumption', value: 73.2, color: '#c23531' },\n      { name: 'Agriculture and\\ndeforestation', value: 18.4, color: '#749f83' },\n      { name: 'Non-energy related\\nindustrial processes', value: 5.2 + 3.2, color: '#546570' },\n    ].reverse();\n\n    // Percentage\n    const total = sum(data, d => d.value);\n    data.forEach((d) => {\n      d.value /= total / 100;\n    });\n\n    const newOption = initialOption();\n\n    newOption.grid.left = 130;\n\n    newOption.xAxis.type = 'value';\n    newOption.xAxis.axisLabel = { formatter: '{value}%' };\n    newOption.grid.bottom = 50;\n\n    newOption.yAxis.data = data.map(d => d.name);\n\n    newOption.tooltip.trigger = 'none';\n\n    newOption.series = [\n      {\n        type: 'bar',\n        data: echarts.util.map(data, d => ({\n          value: d.value,\n          itemStyle: {\n            normal: {\n              color: d.color,\n            },\n          },\n        })),\n        label: {\n          normal: {\n            show: true,\n            position: 'right',\n            formatter(e) {\n              return `${Math.round(e.data.value)}%`;\n            },\n          },\n        },\n      },\n    ];\n    updateOption(newOption);\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  return (\n    <Graph>\n      <GraphTitle>Man-made greenhouse gas emissions in 2016</GraphTitle>\n      <GraphDescription>% of total</GraphDescription>\n      <ReactEcharts\n        option={option}\n        notMerge\n      />\n      <Source>\n        Source:\n        {' '}\n        <Link outward href=\"https://ourworldindata.org/ghg-emissions-by-sector\">Our World In Data</Link>, more details in this <Link outward href=\"https://wriorg.s3.amazonaws.com/s3fs-public/world-greenhouse-gas-emissions-sankey-chart-2019_0.pdf\">sankey diagram</Link>.\n      </Source>\n    </Graph>\n  );\n};\n\nexport default ManMadeEmissions;\n","import React, { useState, useEffect } from 'react';\nimport ReactEcharts from 'echarts-for-react';\nimport * as echarts from 'echarts';\nimport { text } from 'd3-fetch';\nimport styled from 'styled-components';\n\nimport { Link } from 'gatsby';\nimport { initialOption, initialDataZoom } from './common';\n\nconst Graph = styled.div`\n   width: 100%;\n    box-sizing: border-box;\n    margin-right: auto;\n    margin-left: auto;\n    padding-top: 1.5em;\n    padding-bottom: 1.5em;\n`;\n\nconst Source = styled.div`\n  font-size: small;\n`;\n\nconst GraphTitle = styled.div`\n  font-weight: bold;\n`;\n\nconst GraphDescription = styled.div`\n`;\n\nconst AtmosphericCo2 = () => {\n  const [option, updateOption] = useState(initialOption());\n\n  const loadData = async () => {\n    const data = [];\n    const splitDate = 1959;\n\n    const [icecoreObj, mloObj] = await Promise.all([\n      text('/data/antarctica2015co2composite.txt'),\n      text('/data/co2_annmean_mlo.txt'),\n    ]);\n\n    icecoreObj.split('\\n')\n      .filter((d, i) => i >= 138)\n      .map((d) => {\n        const r = d.split('\\t');\n        return [1950 - +r[0], +r[1]];\n      })\n      // eslint-disable-next-line no-restricted-globals\n      .filter(d => d[0] < splitDate && isFinite(d[1]))\n      .reverse()\n      .forEach((d) => {\n        data.push(d);\n      });\n\n    mloObj.split('\\n')\n      .filter(d => d[0] !== '#')\n      .map((d) => {\n        const r = d.split('   ');\n        return [+r[0], +r[1]];\n      })\n      .filter(d => d[0] >= splitDate)\n      .forEach((d) => { data.push(d); });\n\n    const newOption = initialOption();\n\n    newOption.xAxis.type = 'value';\n    newOption.xAxis.axisLabel = {\n      formatter(e) { return e.toString(); },\n    };\n    newOption.xAxis.min = -900000;\n    newOption.yAxis.min = 150;\n    newOption.yAxis.max = 420;\n\n    newOption.dataZoom = initialDataZoom();\n    newOption.dataZoom[0].startValue = -40000;\n\n    newOption.grid.bottom = 60;\n\n    newOption.tooltip.formatter = (e) => {\n      const yValue = e[0].data[1];\n      const xValue = e[0].data[0];\n      const year = xValue < 0\n        ? `${Math.round(xValue)} BC`\n        : `${Math.round(xValue)} AD`;\n      return `${e[0].marker} ${yValue} ppm in ${year}`;\n    };\n    newOption.series = [\n      {\n        name: '',\n        type: 'line',\n        showSymbol: false,\n        data,\n        areaStyle: {\n          normal: {\n            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n              offset: 0.5,\n              color: 'rgb(255, 64, 30)',\n            }, {\n              offset: 1,\n              color: 'orange',\n            }]),\n          },\n        },\n        markLine: {\n          data: [{ x: '70%', yAxis: data[data.length - 1][1] }],\n          label: {\n            normal: {\n              formatter() { return data[data.length - 1][0]; },\n              position: 'start',\n            },\n          },\n        },\n      },\n      {\n        name: 'last',\n        type: 'scatter',\n        data: [data[data.length - 1]],\n        symbolSize: 10,\n\n      },\n    ];\n    updateOption(newOption);\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  return (\n    <Graph>\n      <GraphTitle>Atmospheric CO2 concentration in the last 40&nbsp;000 to 800&nbsp;000 years</GraphTitle>\n      <GraphDescription>in ppm (particles per million)</GraphDescription>\n      <ReactEcharts\n        option={option}\n        notMerge\n      />\n      <Source>\n        Source: National Oceanic and Atmospheric Administration (NOAA) {' '}\n        <Link\n          outward\n          href=\"https://www.ncdc.noaa.gov/paleo-search/study/17975\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Ice Core records\n        </Link>\n        {' '} (\n        <Link\n          outward\n          href=\"https://www1.ncdc.noaa.gov/pub/data/paleo/icecore/antarctica/antarctica2015co2composite.txt\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          data\n        </Link>\n        ) before 1959 and {' '}\n        <Link\n          outward\n          href=\"https://www.esrl.noaa.gov/gmd/ccgg/trends/data.html\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Mauna Loa records\n        </Link>\n        {' '}(\n        <Link\n          outward\n          href=\"ftp://aftp.cmdl.noaa.gov/products/trends/co2/co2_annmean_mlo.txt\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          data\n        </Link>\n        ) after 1959.\n      </Source>\n    </Graph>\n  );\n};\n\nexport default AtmosphericCo2;\n","import React, { useState, useEffect } from 'react';\nimport ReactEcharts from 'echarts-for-react';\nimport * as echarts from 'echarts';\nimport * as d3 from 'd3-fetch';\nimport styled from 'styled-components';\n\nimport { Link } from 'gatsby';\nimport { initialOption } from './common';\n\nconst Graph = styled.div`\n   width: 100%;\n    box-sizing: border-box;\n    margin-right: auto;\n    margin-left: auto;\n    padding-top: 1.5em;\n    padding-bottom: 1.5em;\n`;\n\nconst Source = styled.div`\n  font-size: small;\n`;\n\nconst GraphTitle = styled.div`\n  font-weight: bold;\n`;\n\nconst GraphDescription = styled.div`\n`;\n\nconst mapping = {\n  'Beef (beef herd)': '🐮 beef',\n  'Lamb & Mutton': '🐑 lamb & mutton',\n  'Shrimps (farmed)': '🍤 shrimp',\n  'Pig Meat': '🐷 pork',\n  'Poultry Meat': '🐔 chicken',\n  'Fish (farmed)': '🐟 fish',\n  'Rice': '🍚 rice',\n  'Potatoes': '🥔 potatoes',\n  'Tomatoes': '🍅 tomatoes',\n  'Root Vegetables': '🥕 vegetables',\n  'Wheat & Rye (Bread)': '🍞 bread & cereals',\n  'Coffee': '☕️ coffee',\n  'Milk': '🥛 milk',\n  'Soymilk': '🥛 soymilk',\n  'Eggs': '🥚 eggs',\n  'Cheese': '🧀 cheese',\n  'Dark Chocolate': '🍫 chocolate',\n  'Berries & Grapes': '🍇 berries & grapes',\n  'Apples': '🍏 apples',\n  'Bananas': '🍌 bananas',\n};\n\nconst series = {\n  'productionIntensity': 'production',\n  'packagingAndRetailIntensity': 'packaging & retail',\n  'transportIntensity': 'transport',\n};\n\nconst Food = () => {\n  const [option, updateOption] = useState(initialOption());\n\n  const loadData = () => {\n    d3.csv('/data/GHG-emissions-by-life-cycle-stage-OurWorldinData-upload.csv').then((response) => {\n      const data = Object.keys(mapping)\n        .map(d => response.find(x => x['Food product'] === d))\n        .reverse()\n        .map(d => ({\n          name: d['Food product'],\n          transportIntensity: parseFloat(d['Transport']),\n          packagingAndRetailIntensity: [\n            'Packging', // this is not a typo!\n            'Retail',\n          ].map(k => parseFloat(d[k])).reduce((a, b) => a + b, 0),\n          productionIntensity: [\n            'Land use change',\n            'Animal Feed',\n            'Farm',\n            'Processing',\n          ].map(k => parseFloat(d[k])).reduce((a, b) => a + b, 0),\n          intensity: [\n            'Land use change',\n            'Animal Feed',\n            'Farm',\n            'Processing',\n            'Transport',\n            'Packging', // this is not a typo!\n            'Retail',\n          ].map(k => parseFloat(d[k])).reduce((a, b) => a + b, 0),\n          label: mapping[d['Food product']] || d['Food product'],\n        }));\n\n      const newOption = initialOption();\n\n      newOption.grid.left = 160;\n\n      newOption.xAxis.name = 'Greenhouse gas intensity in kgCO₂eq per kg';\n      newOption.xAxis.nameLocation = 'middle';\n      newOption.xAxis.nameGap = 30;\n      newOption.grid.bottom = 50 + 30; // second component is legend\n\n      newOption.xAxis.type = 'value';\n      newOption.yAxis.data = data.map(d => d.label || d.name);\n\n      newOption.tooltip.trigger = 'none';\n\n      newOption.legend = {\n        data: Object.values(series),\n        bottom: 0,\n      };\n\n      newOption.series = Object.keys(series).map((k, i) => (\n        {\n          type: 'bar',\n          stack: true,\n          name: series[k],\n          data: echarts.util.map(data, d => ({\n            value: d[k],\n            itemStyle: {\n              normal: {\n                // color: modeColor[d.name],\n              },\n            },\n          })),\n          label: {\n            normal: {\n              show: i === Object.keys(series).length - 1,\n              position: 'right',\n              formatter(e) {\n                return Math.ceil(data[e.dataIndex].intensity);\n              },\n            },\n          },\n        }\n      ));\n      updateOption(newOption);\n    });\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  return (\n    <Graph>\n      <GraphTitle>Greenhouse gas intensity of food</GraphTitle>\n      <GraphDescription>\n        in kgCO\n        <sub>2</sub>\n        eq / kg\n      </GraphDescription>\n      <ReactEcharts\n        option={option}\n        notMerge\n        style={{ height: '500px' }}\n      />\n      <Source>\n        Source:\n        {' '}\n        <Link outward href=\"https://ourworldindata.org/food-choice-vs-eating-local\">Our World in Data</Link>\n        .\n      </Source>\n    </Graph>\n  );\n};\n\nexport default Food;\n","import React, { useState, useEffect } from 'react';\nimport ReactEcharts from 'echarts-for-react';\nimport * as echarts from 'echarts';\nimport { text } from 'd3-fetch';\nimport styled from 'styled-components';\n\nimport { Link } from 'gatsby';\nimport { initialOption, parseGiss, initialDataZoom } from './common';\n\nconst Graph = styled.div`\n   width: 100%;\n    box-sizing: border-box;\n    margin-right: auto;\n    margin-left: auto;\n    padding-top: 1.5em;\n    padding-bottom: 1.5em;\n`;\n\nconst Source = styled.div`\n  font-size: small;\n`;\n\nconst GraphTitle = styled.div`\n  font-weight: bold;\n`;\n\nconst GraphDescription = styled.div`\n`;\n\nconst Transportation = () => {\n  const [option, updateOption] = useState(initialOption());\n\n  const loadData = () => {\n    const modeColor = {\n    };\n\n    const data = [\n      { name: 'walk', intensity: 24.15, label: '🚶 walk (average diet)' },\n      { name: 'bike', intensity: 18.40, label: '🚴 cycle (average diet)' },\n      { name: 'motorcycle', intensity: 120.70, label: '🏍 motorcycle' },\n      { name: 'car (diesel)', intensity: 182.94, label: '🚗 car (diesel)' },\n      { name: 'car (low-carbon electric)', intensity: 93, label: '🚙 electric car\\n(low-carbon electricity)' },\n      { name: 'car (high-carbon electric)', intensity: 292, label: '🚙 electric car\\n(high-carbon electricity)' },\n      { name: 'bus', intensity: 41.63, label: '🚌 bus' },\n      { name: 'car sharing (diesel)', intensity: 45.73, label: '🚗 car sharing (diesel)' },\n      { name: 'train (diesel)', intensity: 48.64, label: '🚂 train (diesel)' },\n      { name: 'train (electric)', intensity: 23.46, label: '🚆 train (electric)' },\n      { name: 'airplane', intensity: 239, label: '✈️ airplane (long distance)' },\n      { name: 'airplane', intensity: 340, label: '✈️ airplane (short distance)' },\n    ].reverse();\n\n    const newOption = initialOption();\n\n    newOption.grid.left = 170;\n\n    newOption.xAxis.name = 'Greenhouse gas intensity in gCO₂eq / person / km';\n    newOption.xAxis.nameLocation = 'middle';\n    newOption.xAxis.nameGap = 30;\n    newOption.grid.bottom = 50;\n\n    newOption.xAxis.type = 'value';\n    newOption.yAxis.data = data.map(d => d.label || d.name);\n\n    newOption.tooltip.trigger = 'none';\n\n    newOption.series = [\n      {\n        type: 'bar',\n        data: echarts.util.map(data, d => ({\n          value: d.intensity,\n          itemStyle: {\n            normal: {\n              color: modeColor[d.name],\n            },\n          },\n        })),\n        label: {\n          normal: {\n            show: true,\n            position: 'right',\n          },\n        },\n      },\n    ];\n    updateOption(newOption);\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  return (\n    <Graph>\n      <GraphTitle>Greenhouse gas intensity of transportation modes</GraphTitle>\n      <GraphDescription>\n        in gCO\n        <sub>2</sub>\n        eq / person / km\n      </GraphDescription>\n      <ReactEcharts\n        option={option}\n        notMerge\n        style={{\n          height: '450px',\n        }}\n      />\n      <Source>\n        Source:\n        {' '}\n        <Link outward href=\"http://www.ecoinvent.org/\">Ecoinvent 3</Link>\n        {' '}through{' '} \n        <Link outward href=\"https://static.ducky.no/calculator_documentation.pdf\">ducky.no</Link>\n        ,{' '} \n        <Link outward href=\"http://shrinkthatfootprint.com/electric-car-emissions\">Shrink that footprint</Link>\n        {' '}and{' '} \n        <Link outward href=\"https://www.theguardian.com/environment/datablog/2009/sep/02/carbon-emissions-per-transport-type\">The Guardian</Link>\n        . Bus assumes urban use with 75% occupancy. Motorcycle is assumed 250-750cc.\n        Car sharing assumes driver + 3 passengers. Low-carbon electricity assumes\n        France and high carbon Australia.\n      </Source>\n    </Graph>\n  );\n};\n\nexport default Transportation;\n","import React, { useState, useEffect } from 'react';\nimport ReactEcharts from 'echarts-for-react';\nimport * as echarts from 'echarts';\nimport { text } from 'd3-fetch';\nimport styled from 'styled-components';\n\nimport { Link } from 'gatsby';\nimport { initialOption, parseGiss, initialDataZoom } from './common';\n\nconst Graph = styled.div`\n   width: 100%;\n    box-sizing: border-box;\n    margin-right: auto;\n    margin-left: auto;\n    padding-top: 1.5em;\n    padding-bottom: 1.5em;\n`;\n\nconst Source = styled.div`\n  font-size: small;\n`;\n\nconst GraphTitle = styled.div`\n  font-weight: bold;\n`;\n\nconst GraphDescription = styled.div`\n`;\n\nconst GlobalTemp = () => {\n  const [option, updateOption] = useState(initialOption());\n\n  const loadData = () => {\n    text('/data/647_Global_Temperature_Data_File.txt').then((gissObj) => {\n      const newOption = initialOption();\n      const gissData = parseGiss(gissObj);\n      const xData = gissData.map(d => +d[0]);\n      const yData = gissData.map(d => +d[1]);\n      const xyData = gissData.map((_, i) => [xData[i], yData[i]]);\n\n      newOption.xAxis.type = 'value';\n      newOption.xAxis.min = Math.min(...xData);\n      newOption.xAxis.axisLabel = {\n        formatter: e => e.toString(),\n      };\n\n      newOption.xAxis.max = Math.max(...xData);\n      newOption.yAxis.min = -0.7;\n      newOption.yAxis.max = 1.2;\n\n      newOption.tooltip.formatter = (e) => {\n        const value = e[0].data[1];\n        const sign = value >= 0 ? '+' : '';\n        return `${e[0].marker} ${sign + value} °C in ${e[0].data[0]}`;\n      };\n\n      newOption.series = [\n        {\n          name: 'nasa_giss_1y',\n          type: 'line',\n          showSymbol: false,\n          data: xyData,\n          areaStyle: {\n            normal: {\n              color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                offset: -1 * newOption.yAxis.min / newOption.yAxis.max,\n                color: 'rgb(242, 0, 80)',\n              }, {\n                offset: 1,\n                color: 'rgb(247, 83, 187)',\n              }]),\n            },\n          },\n          markLine: {\n            data: [{ yAxis: yData[yData.length - 1], x: '70%' }],\n            label: {\n              normal: {\n                formatter: () => xData[xData.length - 1],\n                position: 'start',\n              },\n            },\n          },\n        },\n        {\n          name: 'last',\n          type: 'scatter',\n          data: [xyData[xyData.length - 1]],\n          symbolSize: 10,\n        },\n      ];\n      updateOption(newOption);\n    });\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  return (\n    <Graph>\n      <GraphTitle>Temperature anomalies</GraphTitle>\n      <GraphDescription>&deg;C compared to 1951-1980 average</GraphDescription>\n      <ReactEcharts\n        option={option}\n        notMerge\n      />\n      <Source>\n        Source:\n        {' '}\n        <Link\n          outward\n          href=\"https://climate.nasa.gov/vital-signs/global-temperature/\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          NASA&#39;s Goddard Institute for Space Studies (GISS)\n        </Link>\n        {' '}(\n        <Link\n          outward\n          href=\"http://climate.nasa.gov/system/internal_resources/details/original/647_Global_Temperature_Data_File.txt\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          data\n        </Link>\n        )\n      </Source>\n    </Graph>\n  );\n};\n\nexport default GlobalTemp;\n","import React, { useState, useEffect } from 'react';\nimport ReactEcharts from 'echarts-for-react';\nimport * as echarts from 'echarts';\nimport { text } from 'd3-fetch';\nimport { sum, descending } from 'd3-array';\nimport styled from 'styled-components';\n\nimport { Link } from 'gatsby';\nimport { initialOption, parseGiss, initialDataZoom } from './common';\n\nconst Graph = styled.div`\n   width: 100%;\n    box-sizing: border-box;\n    margin-right: auto;\n    margin-left: auto;\n    padding-top: 1.5em;\n    padding-bottom: 1.5em;\n`;\n\nconst Source = styled.div`\n  font-size: small;\n`;\n\nconst GraphTitle = styled.div`\n  font-weight: bold;\n`;\n\nconst GraphDescription = styled.div`\n`;\n\nconst EmissionsByCountry = () => {\n  const [option, updateOption] = useState(initialOption());\n\n  const loadData = () => {\n    text('/data/WorldResourcesInstituteCAIT.csv').then((obj) => {\n      const year = 2014;\n\n      const data = obj.split('\\n')\n        .filter((d, i) => i > 0)\n        .map(d => d.split(',\"').map(s => s.replace('\"', '').replace('\"', '')))\n        .filter(d => [\n          'World',\n          'European Union (28)',\n          'European Union (15)',\n        ].indexOf(d[0]) === -1\n          && d[1] === year.toString()\n          && d[4] !== '')\n        .map(d => ({\n          name: d[0],\n          intensity: +d[2] * 1e6 / +d[4], // excluding land use + forestry\n          population: +d[4] / 1e9, // in billions\n        }))\n        .sort((a, b) => descending(a.intensity, b.intensity));\n\n      // Convert to percentages\n      const totalPopulation = sum(data, d => d.population);\n      data.forEach((d) => {\n        d.population /= totalPopulation / 100;\n      });\n\n      const totalEmissions = sum(data, d => d.population * d.intensity);\n\n      // [from, to, height, name]\n      const chartData = [[0, data[0].population, data[0].intensity, data[0].name]];\n      data.forEach((d, i) => {\n        if (i === 0) { return; }\n        const from = chartData[chartData.length - 1][1];\n        chartData.push([\n          from,\n          from + d.population,\n          d.intensity,\n          d.name,\n        ]);\n      });\n\n      function renderItem(params, api) {\n        const yValue = api.value(2);\n        const start = api.coord([api.value(0), yValue]);\n\n        const size = api.size([api.value(1) - api.value(0), yValue]);\n        const style = api.style();\n\n        return {\n          type: 'rect',\n          shape: echarts.graphic.clipRectByRect({\n            x: start[0],\n            y: start[1],\n            width: size[0],\n            height: size[1],\n          }, {\n            x: params.coordSys.x,\n            y: params.coordSys.y,\n            width: params.coordSys.width,\n            height: params.coordSys.height,\n          }),\n          style,\n        };\n      }\n\n      const newOption = initialOption();\n\n      newOption.xAxis.name = 'of world population';\n      newOption.xAxis.nameLocation = 'middle';\n      newOption.xAxis.position = 'bottom';\n      newOption.xAxis.nameGap = 50;\n      newOption.xAxis.axisLabel = { formatter: '{value}%', margin: 30 };\n      newOption.grid.bottom = 80;\n\n      newOption.yAxis.name = 'personal footprint';\n      newOption.yAxis.nameLocation = 'middle';\n      newOption.yAxis.nameRotate = 90;\n      newOption.yAxis.nameGap = 35;\n      newOption.yAxis.axisLabel = { formatter: '{value}t' };\n\n      newOption.dataZoom = initialDataZoom();\n      newOption.dataZoom[0].bottom = newOption.grid.bottom - 20;\n      newOption.dataZoom[0].startValue = 1;\n      newOption.dataZoom[0].endValue = 100;\n      newOption.dataZoom[0].labelFormatter = '';\n      newOption.dataZoom[0].filterMode = 'weakFilter'; // to enable drawing\n\n      newOption.tooltip.trigger = 'item';\n      newOption.tooltip.formatter = (e) => {\n        if (e.componentType !== 'series') { return; }\n        const d = data[e.dataIndex];\n        const intensity = Math.round(d.intensity);\n        const emissionPercent = Math.round(d.population * d.intensity * 10000.0 / totalEmissions) / 100.0;\n        // eslint-disable-next-line consistent-return\n        return `${d.name}: ${intensity} tons / person / year <br />${emissionPercent}% of total emissions`;\n      };\n\n      newOption.grid.right = 100;// for mark label\n\n      newOption.series = [\n        {\n          type: 'custom',\n          renderItem,\n          dimensions: ['from', 'to', 'intensity'],\n          encode: {\n            x: [0, 1],\n            y: 2,\n            tooltip: [0, 1, 2],\n            label: 3,\n            itemName: 3,\n          },\n          data: chartData,\n          itemStyle: {\n            normal: {\n              color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                offset: 0,\n                color: 'rgb(255, 64, 30)',\n              }, {\n                offset: 1,\n                color: 'orange',\n              }]),\n              borderColor: 'black',\n              borderWidth: 0.1,\n            },\n          },\n          markLine: {\n            symbol: 'none',\n            data: [{ yAxis: 2 }],\n            label: {\n              normal: {\n                formatter: 'Paris 2t objective 2050',\n                position: 'end',\n              },\n            },\n            lineStyle: {\n              normal: {\n                color: 'darkgreen',\n                width: 3,\n              },\n            },\n          },\n        },\n      ];\n      updateOption(newOption);\n    });\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  return (\n    <Graph>\n      <GraphTitle>World greenhouse gas emissions by country in 2014</GraphTitle>\n      <GraphDescription>\n        in tCO\n        <sub>2</sub>\n        eq per person per year\n      </GraphDescription>\n      <ReactEcharts\n        option={option}\n        notMerge\n      />\n      <Source>\n        Source:\n        {' '}\n        <Link outward href=\"http://www.wri.org/resources/data-sets/cait-historical-emissions-data-countries-us-states-unfccc\" target=\"_blank\">World Resource Institute</Link>\n        {' '}\n        (\n        <Link outward href=\"http://cait.wri.org/historical/export/Country%20GHG%20Emissions/WorldResourcesInstituteCAIT.csv?&keyField=Country&unit=MtCO2e&unit=MtCO%E2%82%82e%E2%80%8D&unit=People&indicator[]=Total%20GHG%20Emissions%20Excluding%20Land-Use%20Change%20and%20Forestry&indicator[]=Total%20GHG%20Emissions%20Including%20Land-Use%20Change%20and%20Forestry&indicator[]=Population&year[]=2014&sortIdx=1&sortDir=desc&chartType=geo\" target=\"_blank\">data</Link>\n        ) Each square represents a country. Its height represents the average personal\n        footprint (to be compared against the 2t&nbsp;objective), and its width represents\n        the number of people in that country. The area therefore represents the total\n        amount of emissions from a given country.\n      </Source>\n    </Graph>\n  );\n};\n\nexport default EmissionsByCountry;\n","import React, { useState, useEffect } from 'react';\nimport ReactEcharts from 'echarts-for-react';\nimport * as echarts from 'echarts';\nimport { text } from 'd3-fetch';\nimport styled from 'styled-components';\n\nimport { Link } from 'gatsby';\nimport { initialOption, parseGiss, initialDataZoom } from './common';\n\nconst Graph = styled.div`\n   width: 100%;\n    box-sizing: border-box;\n    margin-right: auto;\n    margin-left: auto;\n    padding-top: 1.5em;\n    padding-bottom: 1.5em;\n`;\n\nconst Source = styled.div`\n  font-size: small;\n`;\n\nconst GraphTitle = styled.div`\n  font-weight: bold;\n`;\n\nconst GraphDescription = styled.div`\n`;\n\nconst GlobalTemp = () => {\n  const [option, updateOption] = useState(initialOption());\n\n  const loadData = () => {\n    text('/data/IPCC_WG1AR5_All_1_2.csv').then((obj) => {\n      const rawData = obj.split('\\n')\n        .filter((_, i) => i >= 7 && i < 270)\n        // .filter(function(_, i) { return i == 0 || i >= 100 + 1 }) // start 100y after\n        .filter((d, i) => i === 0 || d.split(';')[0] === '2011');\n      const header = rawData[0].split(';')\n        .filter((_, j) => j <= 11);\n      // Sum by column\n      const sums = {};\n      rawData.forEach((d, i) => {\n        if (i === 0) { return; } // skip header\n        const row = d.split(';');\n        header.forEach((h, j) => {\n          if (j === 0) { return; } // skip year\n          if (sums[h] === undefined) { sums[h] = 0; }\n          sums[h] += +(row[j].replace(',', '.'));\n        });\n      });\n\n      const data = [\n        {\n          name: 'Other man-made changes',\n          value:\n          sums['BC Snow']\n          + sums.Contrails\n          + sums.LUC,\n        },\n        { name: 'Aerosols', value: sums['Aerosol (Total)'] },\n        { name: 'Volcano erruptions', value: sums.Volcano },\n        { name: 'Solar changes', value: sums.Solar },\n        {\n          name: 'Greenhouse gases',\n          value:\n          sums.CO2\n          + sums['GHG OTher*']\n          + sums['H2O (Strat)']\n          + sums['O3 (Strat)']\n          + sums['O3 (Trop)'],\n        },\n      ];\n\n      let cumSum = [0];\n      data.forEach((_, i) => {\n        if (i === 0) { return; }\n        // eslint-disable-next-line no-param-reassign\n        i = data.length - i - 1; // reverse\n        cumSum.push(\n          cumSum[cumSum.length - 1]\n          + (data[i + 1].value > 0 ? data[i + 1].value : 0)\n          - (data[i].value < 0 ? -data[i].value : 0),\n        );\n      });\n      cumSum.push(0); data.unshift({ name: 'Net observed warming', value: '-' });\n      cumSum = cumSum.reverse();\n\n      const newOption = initialOption();\n\n      newOption.grid.left = 150;\n\n      newOption.xAxis.name = 'Warming increase (W/m²)';\n      newOption.xAxis.nameLocation = 'middle';\n      newOption.xAxis.nameGap = 30;\n      newOption.grid.bottom += 30;\n\n      newOption.xAxis.type = 'value';\n      newOption.yAxis.data = data.map(d => d.name);\n\n      newOption.tooltip.formatter = (e) => {\n        const e0 = e\n          .filter(d => d.seriesName !== 'offset')\n          .filter(d => d.data !== '-')[0];\n        if (!e0.data) { return; }\n        const value = e0.data;\n        const name = e0.name;\n        const isWarming = e0.seriesName === 'pos';\n        // eslint-disable-next-line consistent-return\n        return `${isWarming ? 'Heating' : 'Cooling'} with ${isWarming ? '' : '-'}${value} W/m<sup>2</sup>`;\n      };\n\n      newOption.series = [\n        // transparent bars the add the offsets\n        {\n          name: 'offset',\n          type: 'bar',\n          stack: 'common',\n          data: cumSum,\n          itemStyle: {\n            normal: {\n              barBorderColor: 'rgba(0,0,0,0)',\n              color: 'rgba(0,0,0,0)',\n            },\n            emphasis: {\n              barBorderColor: 'rgba(0,0,0,0)',\n              color: 'rgba(0,0,0,0)',\n            },\n          },\n        },\n        {\n          name: 'pos',\n          type: 'bar',\n          stack: 'common',\n          data: data\n            .map(d => (d.value < 0 ? '-' : d.value)),\n          label: {\n            normal: {\n              show: true,\n              position: 'right',\n            },\n          },\n        },\n        {\n          name: 'neg',\n          type: 'bar',\n          stack: 'common',\n          barGap: 0,\n          data: data\n            .map(d => (d.value >= 0 ? '-' : -d.value)),\n          label: {\n            normal: {\n              show: true,\n              position: 'left',\n              formatter: '-{c}',\n            },\n          },\n        },\n        {\n          name: 'net',\n          type: 'bar',\n          stack: 'common',\n          barGap: 0,\n          data: data.map((_, i) => (i === 0 ? cumSum[1] : '-')),\n          label: {\n            normal: {\n              show: true,\n              position: 'right',\n            },\n          },\n        },\n      ];\n      updateOption(newOption);\n    });\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  return (\n    <Graph>\n      <GraphTitle>\n        Relative changes in{' '}\n        <Link\n          outward\n          href=\"https://en.wikipedia.org/wiki/Radiative_forcing\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          radiative forcing\n        </Link>\n        {' '}in 2011 compared to 1750\n      </GraphTitle>\n      <GraphDescription>\n        in W/m\n        <sup>2</sup>\n      </GraphDescription>\n      <ReactEcharts\n        option={option}\n        notMerge\n      />\n      <Source>\n        Source: Intergovernmental Panel on Climate Change (IPCC)\n        {' '}\n        <Link\n          outward\n          href=\"http://www.ipcc.ch/pdf/assessment-report/ar5/wg1/WG1AR5_Chapter08_FINAL.pdf\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          WG1 AR5, Fig. 8.15 p697\n        </Link>\n        {' '}(\n        <Link\n          outward\n          href=\"http://www.ipcc.ch/report/ar5/wg1/docs/WG1AR5_AIISM_Datafiles.xlsx\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          data\n        </Link>\n        )\n      </Source>\n    </Graph>\n  );\n};\n\nexport default GlobalTemp;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { graphql, Link } from 'gatsby';\n\nimport theme from '../../utils/themeconstants';\nimport Layout from '../../components/layout';\nimport SEO from '../../components/seo';\n\nimport { rhythm } from '../../utils/typography';\n\nimport GlobalTempGraph from './graphs/globalTemp';\nimport TempAnnomalies from './graphs/tempAnnomalies';\nimport AtmosphericCo2 from './graphs/atmosphericCo2';\nimport RelativeChanges from './graphs/relativeChanges';\nimport ManMadeEmissions from './graphs/manMadeEmissions';\nimport WorldPrimaryEnergy from './graphs/worldPrimaryEnergy';\nimport PersonalFootprint from './graphs/personalFootprint';\nimport EmissionsByCountry from './graphs/emissionsByCountry';\nimport Transportation from './graphs/transportation';\nimport Electricity from './graphs/electricity';\nimport Food from './graphs/food';\n\nconst Disclamer = styled.p`\n  font-size: 12px;\n  opacity: 0.8;\n`;\n\nconst ToC = styled.div`\n  h3 {\n    margin-bottom: 0.2em;\n  }\n  ul {\n    list-style: none;\n    li {\n      margin: 0 0 0.25em 0;\n      a {\n        display: inline-block;\n        line-height: 22px;\n        text-decoration: none;\n      }\n    }\n  }\n`;\n\nconst ClimateChange = ({ data, location }) => (\n  <Layout location={location}>\n    <SEO\n      title=\"A Pragmatic Guide to Climate Change\"\n      description=\"This is a pragmatic guide to what Climate Change is, what the drivers behind it are, and what we as individuals can do about it.\"\n      previewImageURL=\"https://user-images.githubusercontent.com/1655848/29027789-6f2358b0-7b82-11e7-882f-af0ca55703a1.png\"\n    />\n    <h1 style={{ marginTop: rhythm(2) }}>\n      A Pragmatic Guide to Climate Change\n    </h1>\n    <Disclamer>\n      <b>Last updated: March 20th, 2022 · 16 min read</b>\n      <br />\n      If you see anything inconsistent, or would like to propose a change,\n      please reach out.\n    </Disclamer>\n    <p>\n      This is a pragmatic guide to what Climate Change is, what the drivers\n      behind it are, and what we as individuals can do about it.\n    </p>\n    <ToC>\n      <h3>1. The Earth</h3>\n      <ul>\n        <li>\n          <a href=\"#the-state-of-climate-change\">The state of Climate Change</a>\n        </li>\n        <li>\n          <a href=\"#consequences\">Consequences</a>\n        </li>\n        <li>\n          <a href=\"#what-causes-it?\">What causes it</a>\n        </li>\n      </ul>\n      <h3>2. Humans</h3>\n      <ul>\n        <li>\n          <a href=\"#where-do-greenhouse-gases-come-from?\">\n            Where do greenhouse gases come from?\n          </a>\n        </li>\n        <li>\n          <a href=\"#fossil-fuels-are-used-everywhere--and-for-good-reasons\">\n            Fossil fuels are used everywhere, and for good reasons\n          </a>\n        </li>\n      </ul>\n      <h3>3. What can we do?</h3>\n      <ul>\n        <li>\n          <a href=\"#objective--2-tons-co2eq-per-human-per-year-by-2050\">\n            Objective: 2 tons CO2eq per human per year by 2050\n          </a>\n        </li>\n        <li>\n          <a href=\"#transportation--reduce-long-distance-travels\">\n            Transportation: Reduce long-distance travels\n          </a>\n        </li>\n        <li>\n          <a href=\"#electricity--remove-coal--gas-and-oil-power-plants\">\n            Electricity: remove coal, gas and oil power plants\n          </a>\n        </li>\n        <li>\n          <a href=\"#food--avoid-red-meat\">Food: avoid red meat</a>\n        </li>\n        <li>\n          <a href=\"#information-must-be-accessible-and-widely-spread\">\n            Information must be accessible and widely spread\n          </a>\n        </li>\n      </ul>\n    </ToC>\n    <hr />\n    <h2>1. The Earth</h2>\n    <h3 id=\"the-state-of-climate-change\">The state of Climate Change</h3>\n    <p>\n      &#8217;Warming of the climate system is unequivocal, and since the 1950s,\n      many of the observed changes are unprecedented over decades to\n      millennia&#8217;, writes the Intergovernmental Panel on Climate Change\n      (IPCC) in its{' '}\n      <Link\n        outward\n        href=\"http://www.ipcc.ch/pdf/assessment-report/ar5/syr/AR5_SYR_FINAL_SPM.pdf\"\n      >\n        fifth assessment\n      </Link>\n      .\n    </p>\n    <GlobalTempGraph />\n    <p>\n      Seventeen of the 18 warmest years have all occurred since 2001 (with the\n      exception of 1998). Furthermore, NOAA reported in August 2016 that each of\n      the previous 16 months{' '}\n      <Link outward href=\"https://www.ncdc.noaa.gov/sotc/global/201607#temp\">\n        were the warmest they&#8217;ve ever measured\n      </Link>\n      . The measured warming has been found to be consistent across{' '}\n      <Link outward href=\"https://data.giss.nasa.gov/gistemp/graphs/\">\n        seasons\n      </Link>{' '}\n      and{' '}\n      <Link\n        outward\n        href=\"https://twitter.com/anttilip/status/891730388497965056\"\n      >\n        regions.\n      </Link>\n    </p>\n    <p>\n      We have now achieved a temperature increase of 1&deg;C since the end of\n      the 70s. <b>A change of 1&deg;C in 50 years is unprecedented</b>, as it\n      can be seen from the following reconstruction of temperatures in the last\n      11&nbsp;000 years:\n    </p>\n    <TempAnnomalies />\n    <p>\n      What is worrying is not so much the change itself, but rather{' '}\n      <b>the speed at which this change is taking place.</b> Historically, a\n      change of 1&deg;C seems to happen in thousands of years - not decades. The\n      Earth is a complex ecosystem, and disturbing it by as little as a couple\n      of degrees in the blink of decades (or even centuries) is a heavy\n      disturbance.\n    </p>\n\n    <h3 id=\"consequences\">Consequences</h3>\n    <p>\n      A couple of degrees change in the average yearly temperature is far from a\n      minor event.{' '}\n      <Link\n        outward\n        href=\"https://jancovici.com/en/climate-change/predicting-the-future/how-do-the-present-temperatures-compare-to-the-past-ones/\"\n      >\n        When Earth&#8217;s temperature was 5&deg;C lower\n      </Link>\n      , the sea level was 120m lower and all of Northern Europe and Canada were\n      covered by a gigantic ice cap (one could hike from Vermont to Greenland).\n      Furthermore, average temperatures do not tell the whole story. As average\n      temperatures increase, the likelihood of extreme temperature events{' '}\n      <Link\n        outward\n        href=\"https://www.nytimes.com/interactive/2017/07/28/climate/more-frequent-extreme-summer-heat.html\"\n      >\n        might increase as well\n      </Link>\n      .\n    </p>\n    <p>\n      A change of a couple of degrees over the surface of the Earth first causes\n      the oceans to absorb the extra heat. In the process, they expand (raising\n      the sea level) and cause increased evaporation, which leads to perturbed\n      air and water currents. This yields an increased likelihood of extreme\n      weather events, such as drought, hurricanes or floods. This is already\n      observed as e.g. coral reefs are{' '}\n      <Link\n        outward\n        href=\"https://www.nytimes.com/2017/03/15/science/great-barrier-reef-coral-climate-change-dieoff.html\"\n      >\n        starting to die\n      </Link>\n      .\n    </p>\n    <p>\n      Longer term effects are harder to quantify as a temperature change this\n      sudden has never been witnessed in the past. To get a rough idea,{' '}\n      <Link\n        outward\n        href=\"http://bigthink.com/strange-maps/what-the-world-will-look-like-4degc-warmer\"\n      >\n        this map\n      </Link>{' '}\n      shows what the world will look like 4° warmer while{' '}\n      <Link\n        outward\n        href=\"http://www.bbc.com/future/story/20170808-climate-change-is-disrupting-the-birds-and-the-bees\"\n      >\n        this article\n      </Link>{' '}\n      shows how sensitive birds and bees are to climate change. Furthermore,\n      higher temperatures and more extreme weather causes crops to fail, which\n      could{' '}\n      <Link\n        outward\n        href=\"https://www.theguardian.com/environment/2020/sep/09/climate-crisis-could-displace-12bn-people-by-2050-report-warns\"\n      >\n        force 1.2 billion people to migrate by 2050\n      </Link>\n      , causing{' '}\n      <Link\n        outward\n        href=\"https://www.technologyreview.com/s/603158/hotter-days-will-drive-global-inequality/\"\n      >\n        increased inequalities\n      </Link>{' '}\n      leading to global instability. Finally, the inability of the human body to\n      cool itself in high temperature and humidity situations might cause more\n      than{' '}\n      <Link\n        outward\n        href=\"https://www.nature.com/articles/nclimate3322.epdf?referrer_access_token=h4PBfD3a4GBaHeQGPTU5wdRgN0jAjWel9jnR3ZoTv0Nlcpopxh1V5GdQz8yAIWjCHGoX0C2JETPVTCPUgabFL6jn6xbLNDYS6otDb1Wc4O0lHjHoWbGg6vtZzisuZOVhFylgVJ2Shbbeu97daifPL-RGZI83_c96h9lyaqGQc_oamHsBRztEjz0ylJEk96MW41sEDrzroTlB2IY-QHhh3s9rVIeT8OkKoDJIgSTB_EE_hw0Xtbwi3I2_L-hsrS_qsJ4exC9JzaCryDLYxnKJqg%3D%3D\"\n      >\n        half of the world population to live in inhabitables areas by 2100\n      </Link>\n      .\n    </p>\n\n    <p>Climate change is indeed the most serious issue of our time.</p>\n\n    <h3 id=\"what-causes-it?\">What causes it?</h3>\n    <p>\n      Some gases are transparent to the sun&#8217;s <b>incoming rays</b> heating\n      the Earth, but are opaque (acting as mirrors) with respect to{' '}\n      <b>outgoing rays</b> emitted back from the Earth. Those gases act as a\n      blanket, trapping heat that is unable to escape. They are called\n      greenhouse gases due to their warming behaviour. This{' '}\n      <Link outward href=\"https://en.wikipedia.org/wiki/Greenhouse_effect\">\n        greenhouse effect\n      </Link>{' '}\n      stabilises our climate, keeping nights relatively warm despite being\n      deprived of sunlight.\n    </p>\n    <p>\n      One of those greenhouse gases is carbon dioxide (CO<sub>2</sub>). By\n      drilling{' '}\n      <Link\n        outward\n        href=\"https://earthobservatory.nasa.gov/Features/Paleoclimatology_IceCores/\"\n      >\n        ice cores\n      </Link>{' '}\n      (columns of ice containing small bubbles of old trapped air), scientists\n      have been able to infer historical CO <sub>2</sub> concentration up to\n      800&nbsp;000 years BC. This concentration has been relatively stable up to\n      the industrial revolution, where it skyrocketed. Again, what is worrying\n      is the speed at which the change of concentration is happening. Both the\n      concentration level and the speed of change are unprecedented in the\n      history of measurements (use the handles at the bottom of the graph to\n      zoom in and out):\n    </p>\n    <AtmosphericCo2 />\n    <p>\n      The{' '}\n      <Link\n        outward\n        href=\"https://www.epa.gov/climate-indicators/climate-change-indicators-atmospheric-concentrations-greenhouse-gases\"\n      >\n        same trend is visible\n      </Link>{' '}\n      with other greenhouse gases such as methane (CH<sub>4</sub>) and nitrous\n      oxide (N<sub>2</sub>O).\n    </p>\n    <p>\n      By comparing the factors causing heating and cooling of the atmosphere\n      between the pre-industrial period (where the greenhouse gas atmospheric\n      levels had not yet increased) and now, we observe that the drastic\n      increase in greenhouse gases{' '}\n      <Link\n        outward\n        href=\"https://www.bloomberg.com/graphics/2015-whats-warming-the-world/\"\n      >\n        is the main driver behind the observed warming\n      </Link>{' '}\n      (although some other effects do cause a certain amount of cooling):\n    </p>\n    <RelativeChanges />\n    <p>\n      It is important to state that\n      <b>\n        {' '}\n        some greenhouse gases will keep warming the Earth many years after they\n        have been emitted\n      </b>\n      , because they do not disappear instantaneously. Up to 40% of the CO\n      <sub>2</sub> emitted today{' '}\n      <b>will still be present 1 000 years from now</b>, thus still causing\n      warming (see FAQ 12.3{' '}\n      <Link\n        outward\n        href=\"http://www.ipcc.ch/pdf/assessment-report/ar5/wg1/WG1AR5_Chapter12_FINAL.pdf\"\n      >\n        here\n      </Link>\n      ).{' '}\n      <Link\n        outward\n        href=\"http://jancovici.com/en/climate-change/predicting-the-future/will-climate-change-get-rapidely-to-a-halt-if-we-quickly-decrease-the-emissions/\"\n      >\n        If we were to stop emissions today\n      </Link>\n      , CO<sub>2</sub> levels would essentially never come back to its\n      pre-industrial level on timescales relevant for our society.\n    </p>\n    <p>\n      This is in stark contrast with the immediate and ephemeral cooling effect\n      of volcanoes eruptions or{' '}\n      <Link\n        outward\n        href=\"https://earthobservatory.nasa.gov/Features/Aerosols/page3.php\"\n      >\n        man-made aerosols\n      </Link>{' '}\n      such as sulphates, nitrate or soot that stay in the atmosphere for a very\n      short time. It is therefore very important to reduce greenhouse gas\n      emissions very quickly, as{' '}\n      <b>\n        they will affect the climate in the centuries (even millenniums) to come\n      </b>\n      . So how do we do it?\n    </p>\n    <h2>2. Humans</h2>\n    <h3 id=\"where-do-greenhouse-gases-come-from?\">\n      Where do greenhouse gases come from?\n    </h3>\n    <p>\n      Most greenhouse gases come from burning{' '}\n      <Link outward href=\"https://en.wikipedia.org/wiki/Fossil_fuel\">\n        fossil fuels\n      </Link>{' '}\n      (oil, gas or coal). That happens as soon as we drive a car, take a plane\n      or use electricity. It also indirectly happens when we consume objects or\n      foods that require a lot of energy to be produced or assembled from parts\n      transported from afar.\n    </p>\n    <ManMadeEmissions />\n    <p>\n      A substantial amount of agricultural emissions comes from{' '}\n      <b>cows and other livestock emitting methane</b> (CH<sub>4</sub>) as part\n      of their{' '}\n      <Link outward href=\"https://en.wikipedia.org/wiki/Enteric_fermentation\">\n        digestive process\n      </Link>\n      . Furthermore,{' '}\n      <b>\n        deforestation leads to less trees absorbing CO<sub>2</sub>\n      </b>{' '}\n      through{' '}\n      <Link outward href=\"https://en.wikipedia.org/wiki/Photosynthesis\">\n        photosynthesis\n      </Link>\n      , and the use of <b>nitrogen-based fertilizers</b> in agriculture emits\n      Nitrous Oxide (N<sub>2</sub>O), which is a greenhouse gas. Note that the\n      use of fossil fuels (or electricity) for operating agricultural machines\n      is not even included in agricultural emissions. By comparison, all\n      road-travel globally only accounts for 12%.\n    </p>\n    <p>\n      Finally, some 8% of global emissions relates to certain types of heavy\n      industrial processes, such as kiln production for cement works, whose\n      emissions are not related to the burning of fossil-fuels, and which must\n      be accounted for separately.\n    </p>\n\n    <h3 id=\"fossil-fuels-are-used-everywhere--and-for-good-reasons\">\n      Fossil fuels are used everywhere, and for good reasons\n    </h3>\n    <p>\n      Historically, the world&#8217;s energy has come from burning trees\n      (biomass) for heat and tool manufacturing. However, the invention of an\n      efficient steam engine by James Watt in 1784 meant humans were now able to\n      convert existing{' '}\n      <Link outward href=\"https://en.wikipedia.org/wiki/Fossil_fuel\">\n        fossil fuels\n      </Link>{' '}\n      (coal, and later oil and gas) into intensive mechanical work (lifting\n      heavy objects or turning the wheels of a very heavy train for example).\n      Furthermore, it enabled humans to build machines to dig up even more\n      fossil fuels, enabling an exponential growth of our energy usage.\n    </p>\n    <p>\n      The discovery of new types of fuels such as oil and gas did not replace\n      the usage of existing fuels: it fuelled additional growth instead.\n    </p>\n    <WorldPrimaryEnergy />\n    <p>\n      Although wind and solar power are a decent part of newly installed energy\n      production facilities nowadays (we hear about it very often in the news),\n      it is still only 1% percent of global primary energy supply. In fact, we\n      see that we currently still get{' '}\n      <b>more than 80% of our energy from fossil fuels</b>, which surprisingly\n      is <b>exactly the same as in 1980</b>: the growth of renewables has been\n      matched by (or even{' '}\n      <Link\n        outward\n        href=\"http://www.nationalobserver.com/2017/07/13/analysis/these-missing-charts-may-change-way-you-think-about-fossil-fuel-addiction\"\n      >\n        outpaced by\n      </Link>\n      ) a similar growth of fossil fuels. How come?\n    </p>\n    <p>\n      The answer is that fossil fuels pack an intense amount of energy in a\n      small volume and small weight. Oil in particular, being light and dense,\n      enabled the invention of modern transportation.\n      <b>\n        The energy released when burning 1&nbsp;litre of oil is equivalent to 25\n        professional athletes cycling for one hour. That single litre of oil\n        weighs under 1&nbsp;kg and costs 100 to 1000 times less than the\n        equivalent human labour.\n      </b>\n      Thus it is no mystery that intensive human labour got replaced by\n      machines, propelling humanity into an industrialised age where the use of\n      fossil fuels{' '}\n      <Link outward href=\"https://ourworldindata.org/employment-in-agriculture\">\n        displaced jobs from agriculture to the service sector\n      </Link>\n      .\n    </p>\n    <p>\n      Every day an average person on Earth uses roughly{' '}\n      <Link\n        outward\n        href=\"http://data.worldbank.org/indicator/EG.USE.PCAP.KG.OE\"\n      >\n        60 kWh\n      </Link>{' '}\n      of energy per day. That means that{' '}\n      <b>\n        every day, we each have an equivalent of 15 professional cyclists\n        dedicated to us to support our living standards\n      </b>\n      . The current quality of life that we are enjoying has been enabled by the\n      efficient use of fossil fuels freeing us from intensive human labour.\n    </p>\n    <p>\n      To get an even more concrete idea, take a look at this video to see{' '}\n      <Link outward href=\"https://en.wikipedia.org/wiki/Robert_F%C3%B6rstemann\">\n        Robert Förstemann\n      </Link>\n      , professional track cyclist and sprint specialist, struggle to power his\n      toaster:\n    </p>\n    <iframe\n      title=\"ytvideo\"\n      width=\"100%\"\n      height=\"315\"\n      src=\"https://www.youtube.com/embed/S4O5voOCqAQ\"\n    />\n    <p>\n      Nowadays we don&#8217;t spend an enormous amount of our time and energy to\n      power our toaster: we use electricity instead which unfortunately is still\n      mostly generated by{' '}\n      <Link\n        outward\n        href=\"https://en.wikipedia.org/wiki/World_energy_consumption#Energy_supply.2C_consumption_and_electricity\"\n      >\n        burning fossil fuels\n      </Link>\n      .\n    </p>\n\n    <h2>3. What can we do?</h2>\n    <h3 id=\"objective--2-tons-co2eq-per-human-per-year-by-2050\">\n      Objective: 2 tons CO<sub>2</sub>eq per human per year by 2050\n    </h3>\n    <p>\n      All{' '}\n      <Link outward href=\"https://en.wikipedia.org/wiki/Greenhouse_gas\">\n        greenhouse gases\n      </Link>{' '}\n      differ by how much radiation they trap and by how long they stay in the\n      atmosphere. To be able to compare them, we convert the mass of any\n      greenhouse gases into the mass of CO<sub>2</sub> that would yield an\n      equivalent warming over 100 years. That unit is called{' '}\n      <b>\n        CO<sub>2</sub> equivalent\n      </b>\n      , abbreviated CO<sub>2</sub>eq. For example, 1g of N<sub>2</sub>O (nitrous\n      oxide, used in fertilizers) corresponds to 300gCO<sub>2</sub>eq.\n    </p>\n    <p>\n      The{' '}\n      <Link outward href=\"https://en.wikipedia.org/wiki/Paris_Agreement\">\n        Paris climate accord\n      </Link>{' '}\n      has set the world an objective of limiting global warming to 2&deg;C\n      objective at horizon 2100. In order to get there, models{' '}\n      <Link\n        outward\n        href=\"http://uneplive.unep.org/media/docs/theme/13/EGR_2015_Technical_Report_final_version.pdf\"\n      >\n        projecting global emission\n      </Link>{' '}\n      compatible with the 2&deg;C objective have been made. Using{' '}\n      <Link\n        outward\n        href=\"https://en.wikipedia.org/wiki/Projections_of_population_growth\"\n      >\n        population growth projections\n      </Link>\n      , we can deduce the amount CO<sub>2</sub>eq we should be allowed to emit\n      per person and per year:\n    </p>\n    <center>\n      5 tons CO<sub>2</sub>eq per person per year by 2030\n      <br />\n      <b>\n        2 tons CO<sub>2</sub>eq per person per year by 2050\n      </b>\n      <br />0 tons CO<sub>2</sub>eq per person per year by 2070\n    </center>\n    <br />\n    <p>\n      This also means using only 34% of the{' '}\n      <Link\n        outward\n        href=\"https://www.accenture.com/_acnmedia/PDF-11/Accenture-Strategy-Energy-Perspectives-Rougher-Seas-Ahead.pdf\"\n      >\n        proven fossil fuel reserves\n      </Link>\n      , leaving the rest of it in the ground. It is highly unlikely that the\n      free market, without any regulation, achieves this result.\n    </p>\n    <p>\n      So how do we all reach that objective? Do we recycle more? Eat organic?\n      Vote for more wind turbines? In this jungle of complex decisions, some\n      pragmatism has to be introduced in the form of a sober quantification of\n      the impact of the different choices we make.\n    </p>\n    <p>\n      It all starts with{' '}\n      <b>\n        figuring out how much we&#8217;re emitting compared to the 2t objective\n      </b>\n      . Here&#8217;s an estimate of personal emissions depending on where you\n      live:\n    </p>\n    <PersonalFootprint />\n    <p>\n      Most countries in the world are far from the 2t objective. Note that the\n      more a country is populated, the more its average footprint will affect\n      global emissions. For example, the United States has an average footprint\n      almost identical to Canada, but due to its large population it contributes\n      to 14% of global emissions (compared to only 2% for Canada). We therefore\n      need to look at both population and footprint per person:\n    </p>\n    <EmissionsByCountry />\n    <p>\n      <b>80% of the world lives above the 2t objective</b>. Furthermore, half of\n      the world is above the 5t objective for 2030. This is no small challenge,\n      and the matter must be taken seriously.\n    </p>\n    <p>\n      Note that even within a country, our personal footprint can vary quite a\n      lot depending on our wealth and consumption habits. Therefore, it is\n      important to be able to measure our footprint precisely enough to trigger\n      personal behavioural change.\n    </p>\n    <p>\n      In the next sections we&#8217;re going to give an overview of the impact\n      of some daily decisions we make related to transportation, food and\n      electricity. We will present comparable quantities in order to show which\n      behaviour changes can have the most impact.\n    </p>\n    <p>\n      Finally it is important to understand that{' '}\n      <b>no activity is carbon-free</b>. Even the production of renewable energy\n      requires the construction of wind turbines and solar panels, which will\n      emit greenhouse gases during transportation, assembly, and mining of the\n      necessary{' '}\n      <a href=\"https://en.wikipedia.org/wiki/Precious_metal\">rare metals</a>.\n    </p>\n\n    <h3 id=\"transportation--reduce-long-distance-travels\">\n      Transportation: Reduce long-distance travels\n    </h3>\n    <Transportation />\n    <p>\n      Note that even though long-distance plane trips are almost as efficient\n      (per distance travelled) as conventional cars, they end up being a\n      substantial part of our footprint, due to the fact that we use them for\n      longer distances. If you can, travel by train, use shared mobility, or\n      simply reduce distances travelled.\n    </p>\n    <p>\n      Ultimately, in order to completely get rid of fossil fuels,{' '}\n      <b>\n        we will have few choices but to switch to electric transportation with\n        electricity being produced carbon-free\n      </b>{' '}\n      (else, it would reduce all of our efforts to nothing).\n    </p>\n    <h3 id=\"electricity--remove-coal--gas-and-oil-power-plants\">\n      Electricity: remove coal, gas and oil power plants\n    </h3>\n    <Electricity />\n    <p>\n      It is crucial that we{' '}\n      <b>get rid of fossil fuels for electricity generation</b>. To keep track\n      of how we stand, check out the{' '}\n      <Link outward href=\"https://app.electricitymaps.com\">\n        Electricity Maps App\n      </Link>\n      . Low-carbon strategies fall into two categories in regions where the\n      terrain does not allow the installation of large-scale hydropower: nuclear\n      and wind/solar. Nuclear has a waste problem, while wind and solar\n      generation is variable. Variable renewables can either be balanced in time\n      with storage or in space using transmission networks, or a combination of\n      the two.\n    </p>\n    <p>\n      If you&#8217;re living in a country with high renewable penetration, you\n      can reduce the need for storage by{' '}\n      <b>consuming electricity when the wind blows, or when the sun shines</b>.\n      Even better: have your heating systems and electric car{' '}\n      <Link outward href=\"https://www.co2signal.com\">\n        do it automatically\n      </Link>\n      .\n    </p>\n    <h3 id=\"food--avoid-red-meat\">Food: avoid red meat</h3>\n    <Food />\n    <p>\n      The simplest thing you can do is to avoid red meat, as cows and sheep\n      require a lot of resources and emit a lot of greenhouse gases as part of\n      their digestive process. It has been estimated that{' '}\n      <b>\n        a meat-intensive diet usually has{' '}\n        <Link\n          outward\n          href=\"https://web.archive.org/web/20180303100729/http://shrinkthatfootprint.com/food-carbon-footprint-diet\"\n        >\n          twice the footprint\n        </Link>{' '}\n        of a vegetarian one.\n      </b>{' '}\n      Note also that the footprint of transportation and packaging is less than\n      one would think, as the production costs dominate.\n    </p>\n    <p>\n      It is important to note that although doing differently might help,\n      reducing your absolute level of consumption might be the only way to get\n      to the 2t objective. Even a low-carbon activity can cumulate to great\n      amounts when repeatedly carried out.\n    </p>\n\n    <h3 id=\"information-must-be-accessible-and-widely-spread\">\n      Information must be accessible and widely spread\n    </h3>\n    <p>How do we get a whole civilisation to shift consumption patterns?</p>\n    <p>\n      I envision of a world where the price we pay for goods and services takes\n      into account long-term climate consequences (also called{' '}\n      <Link outward href=\"https://en.wikipedia.org/wiki/Externality\">\n        externalities\n      </Link>\n      ).\n    </p>\n    <p>\n      This would naturally <b>reward low-carbon consumption decisions</b>,\n      incentivizing people to stay under the 2t yearly budget.\n    </p>\n  </Layout>\n);\n\nexport default ClimateChange;\n","import React, { useState, useEffect } from 'react';\nimport ReactEcharts from 'echarts-for-react';\nimport * as echarts from 'echarts';\nimport { text } from 'd3-fetch';\nimport { dsvFormat } from 'd3-dsv';\nimport { mean } from 'd3-array';\nimport styled from 'styled-components';\n\nimport { Link } from 'gatsby';\nimport { initialOption, parseGiss, initialDataZoom } from './common';\n\nconst Graph = styled.div`\n   width: 100%;\n    box-sizing: border-box;\n    margin-right: auto;\n    margin-left: auto;\n    padding-top: 1.5em;\n    padding-bottom: 1.5em;\n`;\n\nconst Source = styled.div`\n  font-size: small;\n`;\n\nconst GraphTitle = styled.div`\n  font-weight: bold;\n`;\n\nconst GraphDescription = styled.div`\n`;\n\n\nconst TempAnnomalies = () => {\n  const [option, updateOption] = useState(initialOption());\n\n  const loadData = async () => {\n    const [marcottObj, gissObj] = await Promise.all([\n      text('/data/marcott2013.csv'),\n      text('/data/647_Global_Temperature_Data_File.txt'),\n    ]);\n\n    const gissData = parseGiss(gissObj).map(d => [+d[0], +d[1]]);\n\n    const marcottData = dsvFormat(';').parse(marcottObj)\n      .map(r => [1950 - +r['Age (yrs BP)'], parseFloat(r['Global (°C)'].replace(',', '.'))])\n      // eslint-disable-next-line no-restricted-globals\n      .filter(d => isFinite(d[1]) && d[0] < gissData[0][0])\n      .reverse();\n\n    // Make sure to convert the baseline to the giss one\n    const marcottBaseline = [1961, 1990];\n    const delta = mean(\n      gissData.filter(d => d[0] >= marcottBaseline[0] && d[1] <= marcottBaseline[1]), d => d[1],\n    );\n\n    const data = marcottData.map(d => [d[0], d[1] - delta]);\n\n    gissData.forEach((d) => { data.push(d); });\n\n    const newOption = initialOption();\n\n    newOption.xAxis.type = 'value';\n    newOption.xAxis.axisLabel = {\n      formatter(e) { return e.toString(); },\n    };\n    newOption.xAxis.min = -9000;\n    newOption.xAxis.max = data[data.length - 1][0];\n\n    newOption.yAxis.min = -0.7;\n    newOption.yAxis.max = 1.2;\n\n    newOption.dataZoom = initialDataZoom();\n    newOption.dataZoom[0].startValue = -9000;\n\n    newOption.grid.bottom = 60;\n\n    newOption.tooltip.formatter = (e) => {\n      const yValue = Math.round(e[0].data[1] * 100) / 100;\n      const sign = yValue >= 0 ? '+' : '';\n      const xValue = e[0].data[0];\n      const year = xValue < 0 ? `${xValue} BC` : `${xValue} AD`;\n      return `${e[0].marker}${sign}${yValue} °C in ${year}`;\n    };\n\n    newOption.series = [\n      {\n        name: 'marcott',\n        type: 'line',\n        showSymbol: false,\n        data,\n        areaStyle: {\n          normal: {\n            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n              offset: -1 * newOption.yAxis.min / newOption.yAxis.max - 0.2,\n              color: 'rgb(255, 64, 30)',\n            }, {\n              offset: 1,\n              color: 'rgb(180, 200, 255)',\n            }]),\n          },\n        },\n        markLine: {\n          data: [{ yAxis: data[data.length - 1][1], x: '70%' }],\n          label: {\n            normal: {\n              formatter() { return data[data.length - 1][0]; },\n              position: 'start',\n            },\n          },\n        },\n      },\n      {\n        name: 'last',\n        type: 'scatter',\n        data: [data[data.length - 1]],\n        symbolSize: 10,\n      },\n    ];\n    updateOption(newOption);\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  return (\n    <Graph>\n      <GraphTitle>Temperature anomalies in the last 11 000 years</GraphTitle>\n      <GraphDescription>&deg;C compared to 1951-1980 average</GraphDescription>\n      <ReactEcharts\n        option={option}\n        notMerge\n      />\n      <Source>\n        Source:\n        {' '}\n        <Link outward href=\"http://science.sciencemag.org/content/339/6124/1198\" target=\"_blank\" rel=\"noopener noreferrer\">A Reconstruction of Regional and Global Temperature for the Past 11,300 Years</Link>\n        {' '}\n        (\n        <Link outward href=\"http://science.sciencemag.org/content/suppl/2013/03/07/339.6124.1198.DC1\" target=\"_blank\" rel=\"noopener noreferrer\">data</Link>\n        ) before 1880,\n        {' '}\n        <Link outward href=\"https://climate.nasa.gov/vital-signs/global-temperature/\" target=\"_blank\" rel=\"noopener noreferrer\">NASA&quot;s Goddard Institute for Space Studies (GISS)</Link>\n        {' '}\n        (\n        <Link outward href=\"http://climate.nasa.gov/system/internal_resources/details/original/647_Global_Temperature_Data_File.txt\" target=\"_blank\" rel=\"noopener noreferrer\">data</Link>\n        ) after 1880\n      </Source>\n    </Graph>\n  );\n};\n\nexport default TempAnnomalies;\n"],"sourceRoot":""}