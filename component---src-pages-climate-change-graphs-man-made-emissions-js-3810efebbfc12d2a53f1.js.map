{"version":3,"file":"component---src-pages-climate-change-graphs-man-made-emissions-js-3810efebbfc12d2a53f1.js","mappings":"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","sources":["webpack://personal-website/./node_modules/d3-array/src/ascending.js","webpack://personal-website/./node_modules/d3-array/src/bisect.js","webpack://personal-website/./node_modules/d3-array/src/bisector.js","webpack://personal-website/./node_modules/d3-array/src/descending.js","webpack://personal-website/./node_modules/d3-array/src/array.js","webpack://personal-website/./node_modules/d3-array/src/ticks.js","webpack://personal-website/./node_modules/d3-array/src/number.js","webpack://personal-website/./node_modules/d3-array/src/mean.js","webpack://personal-website/./node_modules/d3-array/src/range.js","webpack://personal-website/./node_modules/d3-array/src/sum.js","webpack://personal-website/./src/pages/climate-change/graphs/manMadeEmissions.js"],"sourcesContent":["export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n","import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = n,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) sum += value;\n      else --m;\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) sum += value;\n      else --m;\n    }\n  }\n\n  if (m) return sum / m;\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (value = +values[i]) sum += value; // Note: zero and null are equivalent.\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (value = +valueof(values[i], i, values)) sum += value;\n    }\n  }\n\n  return sum;\n}\n","import React, { useState, useEffect } from 'react';\nimport ReactEcharts from 'echarts-for-react';\nimport * as echarts from 'echarts';\nimport { sum } from 'd3-array';\nimport styled from 'styled-components';\n\nimport { Link } from 'gatsby';\nimport { initialOption, parseGiss, initialDataZoom } from './common';\n\nconst Graph = styled.div`\n   width: 100%;\n    box-sizing: border-box;\n    margin-right: auto;\n    margin-left: auto;\n    padding-top: 1.5em;\n    padding-bottom: 1.5em;\n`;\n\nconst Source = styled.div`\n  font-size: small;\n`;\n\nconst GraphTitle = styled.div`\n  font-weight: bold;\n`;\n\nconst GraphDescription = styled.div`\n`;\n\nconst ManMadeEmissions = () => {\n  const [option, updateOption] = useState(initialOption());\n\n  const loadData = () => {\n    const data = [\n      { name: 'Fossil fuels\\nconsumption', value: 73.2, color: '#c23531' },\n      { name: 'Agriculture and\\ndeforestation', value: 18.4, color: '#749f83' },\n      { name: 'Non-energy related\\nindustrial processes', value: 5.2 + 3.2, color: '#546570' },\n    ].reverse();\n\n    // Percentage\n    const total = sum(data, d => d.value);\n    data.forEach((d) => {\n      d.value /= total / 100;\n    });\n\n    const newOption = initialOption();\n\n    newOption.grid.left = 130;\n\n    newOption.xAxis.type = 'value';\n    newOption.xAxis.axisLabel = { formatter: '{value}%' };\n    newOption.grid.bottom = 50;\n\n    newOption.yAxis.data = data.map(d => d.name);\n\n    newOption.tooltip.trigger = 'none';\n\n    newOption.series = [\n      {\n        type: 'bar',\n        data: echarts.util.map(data, d => ({\n          value: d.value,\n          itemStyle: {\n            normal: {\n              color: d.color,\n            },\n          },\n        })),\n        label: {\n          normal: {\n            show: true,\n            position: 'right',\n            formatter(e) {\n              return `${Math.round(e.data.value)}%`;\n            },\n          },\n        },\n      },\n    ];\n    updateOption(newOption);\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  return (\n    <Graph>\n      <GraphTitle>Man-made greenhouse gas emissions in 2016</GraphTitle>\n      <GraphDescription>% of total</GraphDescription>\n      <ReactEcharts\n        option={option}\n        notMerge\n      />\n      <Source>\n        Source:\n        {' '}\n        <Link outward href=\"https://ourworldindata.org/ghg-emissions-by-sector\">Our World In Data</Link>, more details in this <Link outward href=\"https://wriorg.s3.amazonaws.com/s3fs-public/world-greenhouse-gas-emissions-sankey-chart-2019_0.pdf\">sankey diagram</Link>.\n      </Source>\n    </Graph>\n  );\n};\n\nexport default ManMadeEmissions;\n"],"names":["a","b","NaN","compare","f","ascendingBisect","length","d","x","left","lo","hi","mid","right","array","Array","prototype","e10","slice","map","Math","sqrt","e5","e2","start","stop","count","reverse","n","ticks","step","i","tickIncrement","isFinite","ceil","floor","max","power","log","LN10","error","pow","step0","abs","step1","values","valueof","value","m","sum","isNaN","arguments","range","Graph","styled","div","withConfig","displayName","componentId","Source","GraphTitle","GraphDescription","ManMadeEmissions","option","updateOption","useState","initialOption","useEffect","loadData","data","name","color","total","forEach","newOption","grid","xAxis","type","axisLabel","formatter","bottom","yAxis","tooltip","trigger","series","echarts","itemStyle","normal","label","show","position","e","round","React","ReactEcharts","notMerge","Link","outward","href"],"sourceRoot":""}