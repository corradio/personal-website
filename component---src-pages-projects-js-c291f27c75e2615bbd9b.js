"use strict";(self.webpackChunkpersonal_website=self.webpackChunkpersonal_website||[]).push([[429],{5530:function(e,t,r){r.r(t),r.d(t,{default:function(){return w}});var a=r(96540),n=r(74728),o=r(77528);const l={generators:{g2:{type:"coal",energy:1,gridKey:"A"},g3:{type:"wind",energy:1,gridKey:"A"},g5:{type:"hydro",energy:1,gridKey:"B"}},consumers:{c1:{type:"household",gridKey:"A",emissionFactor:null,originMix:null},c2:{type:"factory",gridKey:"A",purchases:["g3"],emissionFactor:null,originMix:null},c3:{type:"factory",gridKey:"B",emissionFactor:null,originMix:null}}},i={solar:"#f27406",wind:"#74cdb9",hydro:"#2772b2","hydro storage":"#0052cc",battery:"lightgray","battery storage":"#b76bcf",biomass:"#166a57",geothermal:"yellow",nuclear:"#AEB800",gas:"#bb2f51",coal:"#ac8c35",oil:"#867d66",unknown:"#ACACAC"},s=e=>{const t={};return Object.entries(e).forEach((e=>{let[r,a]=e;Object.entries(a).forEach((e=>{let[a,n]=e;const{gridKey:o}=n;t[o]||(t[o]={}),t[o][r]||(t[o][r]={}),t[o][r][a]||(t[o][r][a]={}),t[o][r][a]=n}))})),t},c=e=>{let t=0;const r={};return Object.entries(e).forEach((e=>{let[a,n]=e;t+=n.energy,r[a]=n.energy})),Object.keys(r).forEach((e=>{r[e]/=t})),r},u=(e,t,r)=>{const a={},n=e.map(r).reduce(((e,t)=>e+t),0);return e.forEach((e=>Object.entries(t(e)).forEach((t=>{let[n,o]=t;a[n]=(a[n]||0)+r(e)*o})))),Object.keys(a).forEach((e=>{a[e]/=n})),a},m=(e,t,r)=>!(!e.purchasers||e.purchasers&&!t.consumers[e.purchasers[0]][r]),p={locationBased:e=>{const t=JSON.parse(JSON.stringify(e)),r=s(t);return Object.entries(r).forEach((e=>{let[r,a]=e;const n=c(a.generators);Object.values(t.consumers).filter((e=>e.gridKey===r)).forEach((e=>{e.originMix=n}))})),t},marketBased:e=>((e,t)=>{const r=JSON.parse(JSON.stringify(e)),a=s(r),n=[];Object.values(r.consumers).filter((e=>e[t])).forEach((e=>{n.push(e.key),e.originMix={[e[t][0]]:1}}));const o=Object.entries(a).map((e=>{let[a,o]=e;const l=Object.values(o.generators).map((e=>e.energy)).reduce(((e,t)=>e+t),0),i=l+Object.values(o.consumers).filter((e=>e[t])).map((e=>r.generators[e[t][0]].energy)).reduce(((e,t)=>e+t),0)-Object.values(o.generators).map((e=>(e.purchasers||[]).map((t=>[e,t])).filter((e=>{let[a,n]=e;return r.consumers[n][t]})).map((e=>{let[t,r]=e;return t})))).flat().map((e=>e.energy)).reduce(((e,t)=>e+t),0);if(i>=l){const e={};Object.values(o.generators).filter((e=>!m(e,r,t))).forEach((t=>{e[t.key]=t}));const s=c(e),u=Object.keys(o.generators).join("")!==Object.keys(e).join("");return Object.values(o.consumers).filter((e=>!n.includes(e.key))).forEach((e=>{e.hasResidualMix=u,e.originMix=s})),{key:a,surplusLoad:i-l,residualMix:s}}return{key:a,surplusLoad:i-l}})),l=u(o.filter((e=>e.surplusLoad>0)),(e=>e.residualMix),(e=>e.surplusLoad));return o.filter((e=>e.surplusLoad<0)).forEach((e=>{let{key:o,surplusLoad:i}=e;const s=a[o],p={};Object.entries(s.generators).filter((e=>{let[a,n]=e;return!m(n,r,t)})).forEach((e=>{let[t,r]=e;p[t]=r}));const y=Object.values(p).map((e=>e.energy)).reduce(((e,t)=>e+t),0),d=u([{load:y,mix:c(p)},{load:-1*i,mix:l}],(e=>e.mix),(e=>e.load)),h=Object.keys(s.generators).join("")!==Object.keys(p).join("");Object.values(s.consumers).filter((e=>!n.includes(e.key))).forEach((e=>{e.hasResidualMix=h,e.originMix=d}))})),r})(e,"purchases")},y=e=>{let{type:t,style:r}=e;return a.createElement("div",{style:{width:"6px",height:"6px",backgroundColor:i[t],...r}})},d=e=>{let{generator:t}=e;return a.createElement("div",{key:t.key,style:{display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center"}},`${t.type} generator`,a.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",marginBottom:"5px"}},Array.from(Array(t.energy)).map(((e,r)=>a.createElement(y,{key:r,type:t.type,style:{margin:"1px"}})))))},h=e=>{let{consumer:t,config:r}=e;const n={};return Object.entries(t.originMix).forEach((e=>{let[t,a]=e;const{type:o}=r.generators[t];n[o]||(n[o]=0),n[o]+=a})),a.createElement(a.Fragment,null,a.createElement("div",null,`consumer ${t.key.slice(1)}`),a.createElement("small",null,t.hasResidualMix?"(residual mix)":null),a.createElement("small",null,Object.entries(n).sort(((e,t)=>t[1]-e[1])).map((e=>{let[t,r]=e;return a.createElement("div",{key:t,style:{display:"flex",alignItems:"baseline"}},a.createElement(y,{key:t,type:t,style:{marginRight:"4px",width:30*r}}),`${t}: ${Math.round(100*r)} %`)}))))},g=e=>{let{generators:t}=e;const r=Object.values(t);return a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"}},Object.entries(t).map(((e,t)=>{let[n,o]=e;const l=r[t+1],i=r[t-1],s=o.gridKey===(null==l?void 0:l.gridKey),c=o.gridKey===(null==i?void 0:i.gridKey),u={};return(c||s)&&(u.borderBottom="1px solid",c&&s?u.borderColor="#000":u.borderImage=`linear-gradient(to ${s?"left":"right"}, #000 50%, rgba(0, 0, 0, 0) 50%) 100% 1`),a.createElement("div",{key:n,style:{display:"flex",justifyContent:"center",flex:1,...u}},a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end"}},a.createElement(d,{key:o.key,generator:o}),a.createElement("div",{style:{backgroundColor:"#000",height:10,width:1}})))})))},f=e=>{let{config:t,configByGrid:r}=e;const n=Object.values(r).reduce(((e,t)=>Object.values(e.generators).length+Object.values(t.generators).length));return a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"}},Object.entries(r).map((e=>{let[r,o]=e;const l=Object.values(o.generators),i=Object.values(o.consumers);return a.createElement("div",{key:r,style:{display:"flex",flex:1,flexDirection:"column",alignItems:"stretch",flexBasis:l.length/n*100+"%"}},a.createElement("div",{style:{alignSelf:"center",backgroundColor:"#000",height:100,width:1}}),a.createElement("div",{style:{display:"flex",justifyContent:"space-around",flex:1}},i.map(((e,r)=>{const n=null!=i[r+1],o=null!=i[r-1],l={};return(o||n)&&(l.borderTop="1px solid",o&&n?l.borderColor="#000":l.borderImage=`linear-gradient(to ${n?"left":"right"}, #000 50%, rgba(0, 0, 0, 0) 50%) 100% 1`),a.createElement("div",{key:e.key,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",flex:1,...l}},a.createElement("div",{style:{backgroundColor:"#000",height:10,width:1}}),a.createElement(h,{consumer:e,config:t}))}))))})))},b=e=>{let{config:t,configByGrid:r,attributionRule:n}=e;const o=Object.keys(t.generators),l=Object.keys(r),i=Object.values(r).map((e=>Object.keys(e.generators).length/o.length)),s=n===p.marketBased?["contract"]:[],c=(n===p.marketBased?["purchases"]:[]).map(((e,a)=>Object.values(t.consumers).filter((t=>{var r;return null===(r=t[e])||void 0===r?void 0:r.length})).map((t=>t[e].map((e=>[e,t.key])))).flat().map((e=>{let[n,c]=e;const u=100/o.length;let m=.5*u+o.indexOf(n)*u;const p=t.consumers[c].gridKey,y=l.indexOf(p),d=Object.keys(r[p].consumers),h=d.indexOf(c),g=i[y]/d.length*100;let f=100*i.slice(0,y).reduce(((e,t)=>e+t),0)+.5*g+h*g;return m+=3*(f-m>0?1:-1),Math.abs(f-m)>10&&(f+=3*(f-m<-10?1:-1)),{x1:m,y1:18,x2:f,y2:60,fromKey:n,toKey:c,label:s[a]}})))).flat();return a.createElement("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",height:"100%",width:"100%"}},a.createElement("defs",null,a.createElement("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"10",refY:"3.5",orient:"auto"},a.createElement("polygon",{points:"0 0, 10 3.5, 0 7"}))),c.map((e=>{let{x1:t,y1:r,x2:n,y2:o,fromKey:l,toKey:i,label:s}=e;return a.createElement("g",{key:s},a.createElement("line",{key:l+i,x1:`${t}%`,y1:`${r}%`,x2:`${n}%`,y2:`${o}%`,stroke:"darkblue",strokeDasharray:"4",markerEnd:"url(#arrowhead)"}),a.createElement("text",{x:.5*(t+n)+"%",y:.5*(r+o)+"%",textAnchor:"middle",style:{stroke:"white",strokeWidth:"0.6em"}},s),a.createElement("text",{x:.5*(t+n)+"%",y:.5*(r+o)+"%",textAnchor:"middle"},s))})))};var E=e=>{let{config:t,attributionRuleKey:r,style:n}=e;const o="c2",{0:l,1:i}=(0,a.useState)(t.consumers[o].purchases[0]),c=JSON.parse(JSON.stringify(t));c.consumers={...c.consumers,[o]:{...c.consumers[o],purchases:[l]}},Object.keys(c.generators).forEach((e=>{c.generators[e].key=e})),Object.entries(c.consumers).forEach((e=>{let[t,r]=e;r.key=t,["purchases"].forEach((e=>{(r[e]||[]).forEach((e=>{c.generators[e].purchasers||(c.generators[e].purchasers=[]),c.generators[e].purchasers.push(t)}))}))}));const u=p[r],m=u(c),y=s(m);return a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"90%",marginLeft:"auto",marginRight:"auto",...n}},a.createElement("div",{style:{position:"relative"}},a.createElement(b,{config:m,configByGrid:y,attributionRule:u}),a.createElement(g,{generators:m.generators}),a.createElement(f,{config:m,configByGrid:y})),"marketBased"===r?a.createElement("span",null,a.createElement("br",null),'"consumer 2" has a contract with the'," ",a.createElement("select",{onChange:e=>{i(e.target.value)}},Object.keys(t.generators).filter((e=>!["coal"].includes(t.generators[e].type))).map((e=>a.createElement("option",{key:e,value:e,selected:e===l},t.generators[e].type))))," generator"):null)},k=r(75765),x=r.p+"static/north-2c783c57ea3eb6abed81f78007bec773.mp4",w=e=>{let{data:t,location:r}=e;return a.createElement(n.A,{location:r},a.createElement(o.A,{title:"Olivier Corradi | Projects"}),a.createElement("h1",{style:{marginTop:(0,k.di)(2)}},"Projects"),"This is a section containing projects I have worked on.",a.createElement("h2",{style:{marginTop:(0,k.di)(1)}},"Electricity Maps xbar plugin (2024)"),a.createElement("p",null,"A simple way to visualise how clean electricity is in your location. Check out the blog post ",a.createElement("a",{href:"/blog/electricity-maps-macos-statusbar/"},"here"),"."),a.createElement("p",null,a.createElement("center",null,a.createElement("a",{href:"https://polynomial.so"},a.createElement("img",{src:"https://static.electricitymaps.com/xbar-screenshot.png",alt:"polynomial.so"})))),a.createElement("h2",{style:{marginTop:(0,k.di)(1)}},"Polynomial: A central place to track your most vital KPIs (2023)"),a.createElement("p",null,"Polynomial is the fastest way to centralize the performance indicators that matter to you. Simply connect integrations, and Polynomial takes care of the rest. Check it out ",a.createElement("a",{href:"https://polynomial.so"},"here"),", or contribute to it ",a.createElement("a",{href:"https://github.com/corradio/polynomial/"},"here"),"."),a.createElement("p",null,a.createElement("center",null,a.createElement("a",{href:"https://polynomial.so"},a.createElement("img",{src:"https://polynomial.so/static/images/social.png",alt:"polynomial.so"})))),a.createElement("h2",{style:{marginTop:(0,k.di)(1)}},"Scope 2 widget (2022)"),"It can be tricky to understand scope 2 carbon accounting rules. A guide was written (",a.createElement("a",{href:"https://www.electricitymaps.com/guides/accounting-guide"},"Understanding Electricity Scope 2 Attribution Rules"),"), and a small widget was made as a complement. Feel free to play around with it below:",a.createElement(E,{config:l,attributionRuleKey:"marketBased",style:{padding:"2em"}}),a.createElement("h2",{style:{marginTop:(0,k.di)(1)}},"footprintMap: CO₂ emissions of the global economy (2021)"),a.createElement("p",null,"footprintMap is a visualisation of the CO₂ emissions of the global economy. It uses the electricityMap visualisation engine to visualise various indicators about the global econonomy: GDP, population, emissions and energy supply. Check it out ",a.createElement("a",{href:"https://footprintmap.org"},"here"),", or contribute to it ",a.createElement("a",{href:"https://github.com/corradio/footprintmap/"},"here"),"."),a.createElement("p",null,a.createElement("center",null,a.createElement("a",{href:"https://footprintmap.org"},a.createElement("img",{src:"https://footprintmap.org/images/social_image.png",alt:"footprintmap.org"})))),a.createElement("h2",{style:{marginTop:(0,k.di)(2)}},"The North app: automating your personal carbon footprint (2019-2020)"),a.createElement("p",null,"With the team at Tomorrow, we worked on the North app, which was envisioned as a way to automatically track and calculate the carbon footprint of your life. It worked by connecting to apps you already used in order to track the activities you perform in your daily life. For example, by connecting and parsing your emails, the app was able to detect all plane and train tickets purchased. By connecting to your bank, the app was able to assess all items purchased (e.g. groceries or clothing). Finally, by connecting to your smart meter or electric vehicle, the app was able to assess the time at which you used electricity."),a.createElement("p",null,"As the app had access to a significant amount of sensitive content, it was ",a.createElement("i",null,"private by design"),": all data processing was done on the phone, and it didn't upload any information onto our servers."),a.createElement("p",null,"All the carbon models and the integrations were ",a.createElement("a",{href:"https://github.com/tmrowco/northapp-contrib"},"open-sourced")," in order to create a community helping us to cover the whole ecosystem of potential integrations, and to enable trust in the carbon models."),a.createElement("p",null,"North was discontinued in August 2020 (read more ",a.createElement("a",{href:"https://www.tmrow.com/blog/sunsetting-north/"},"here"),")."),a.createElement("p",null,a.createElement("center",null,a.createElement("video",{width:"250",height:"445",controls:!0},a.createElement("source",{src:x,type:"video/mp4"})))),a.createElement("h2",{style:{marginTop:(0,k.di)(2)}},"brick: a build tool for mono-repositories (2019-2020)"),a.createElement("p",null,"Larger organisations such as Google, Facebook and Twitter have adopted the mono-repository approach as they have the means to maintain such an infrastructure, but unfortunately solutions for smaller organisations are limited. At electricityMap, we wanted to embrace the mono-repository structure. brick was therefore built as a simple build tool for mono-repositories. Read more about it ",a.createElement("a",{href:"https://electricitymap.org/blog/brick-a-build-tool-for-mono-repositories/"},"here")," and contribute to it ",a.createElement("a",{href:"https://github.com/electricitymap/brick"},"here"),"."))}}}]);
//# sourceMappingURL=component---src-pages-projects-js-c291f27c75e2615bbd9b.js.map