{"version":3,"file":"component---src-pages-climate-change-graphs-temp-annomalies-js-720403b0b8bfd4ffc1e8.js","mappings":"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","sources":["webpack://personal-website/./node_modules/d3-array/src/ascending.js","webpack://personal-website/./node_modules/d3-array/src/bisect.js","webpack://personal-website/./node_modules/d3-array/src/bisector.js","webpack://personal-website/./node_modules/d3-array/src/descending.js","webpack://personal-website/./node_modules/d3-array/src/array.js","webpack://personal-website/./node_modules/d3-array/src/ticks.js","webpack://personal-website/./node_modules/d3-array/src/number.js","webpack://personal-website/./node_modules/d3-array/src/mean.js","webpack://personal-website/./node_modules/d3-array/src/range.js","webpack://personal-website/./node_modules/d3-array/src/sum.js","webpack://personal-website/./node_modules/d3-dsv/src/dsv.js","webpack://personal-website/./node_modules/d3-fetch/src/text.js","webpack://personal-website/./src/pages/climate-change/graphs/tempAnnomalies.js"],"sourcesContent":["export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n","import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = n,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) sum += value;\n      else --m;\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) sum += value;\n      else --m;\n    }\n  }\n\n  if (m) return sum / m;\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (value = +values[i]) sum += value; // Note: zero and null are equivalent.\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (value = +valueof(values[i], i, values)) sum += value;\n    }\n  }\n\n  return sum;\n}\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n","function responseText(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.text();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseText);\n}\n","import React, { useState, useEffect } from 'react';\nimport ReactEcharts from 'echarts-for-react';\nimport * as echarts from 'echarts';\nimport { text } from 'd3-fetch';\nimport { dsvFormat } from 'd3-dsv';\nimport { mean } from 'd3-array';\nimport styled from 'styled-components';\n\nimport { Link } from 'gatsby';\nimport { initialOption, parseGiss, initialDataZoom } from './common';\n\nconst Graph = styled.div`\n   width: 100%;\n    box-sizing: border-box;\n    margin-right: auto;\n    margin-left: auto;\n    padding-top: 1.5em;\n    padding-bottom: 1.5em;\n`;\n\nconst Source = styled.div`\n  font-size: small;\n`;\n\nconst GraphTitle = styled.div`\n  font-weight: bold;\n`;\n\nconst GraphDescription = styled.div`\n`;\n\n\nconst TempAnnomalies = () => {\n  const [option, updateOption] = useState(initialOption());\n\n  const loadData = async () => {\n    const [marcottObj, gissObj] = await Promise.all([\n      text('/data/marcott2013.csv'),\n      text('/data/647_Global_Temperature_Data_File.txt'),\n    ]);\n\n    const gissData = parseGiss(gissObj).map(d => [+d[0], +d[1]]);\n\n    const marcottData = dsvFormat(';').parse(marcottObj)\n      .map(r => [1950 - +r['Age (yrs BP)'], parseFloat(r['Global (°C)'].replace(',', '.'))])\n      // eslint-disable-next-line no-restricted-globals\n      .filter(d => isFinite(d[1]) && d[0] < gissData[0][0])\n      .reverse();\n\n    // Make sure to convert the baseline to the giss one\n    const marcottBaseline = [1961, 1990];\n    const delta = mean(\n      gissData.filter(d => d[0] >= marcottBaseline[0] && d[1] <= marcottBaseline[1]), d => d[1],\n    );\n\n    const data = marcottData.map(d => [d[0], d[1] - delta]);\n\n    gissData.forEach((d) => { data.push(d); });\n\n    const newOption = initialOption();\n\n    newOption.xAxis.type = 'value';\n    newOption.xAxis.axisLabel = {\n      formatter(e) { return e.toString(); },\n    };\n    newOption.xAxis.min = -9000;\n    newOption.xAxis.max = data[data.length - 1][0];\n\n    newOption.yAxis.min = -1.0;\n    newOption.yAxis.max = 1.5;\n\n    newOption.dataZoom = initialDataZoom();\n    newOption.dataZoom[0].startValue = -9000;\n\n    newOption.grid.bottom = 60;\n\n    newOption.tooltip.formatter = (e) => {\n      const yValue = Math.round(e[0].data[1] * 100) / 100;\n      const sign = yValue >= 0 ? '+' : '';\n      const xValue = e[0].data[0];\n      const year = xValue < 0 ? `${xValue} BC` : `${xValue} AD`;\n      return `${e[0].marker}${sign}${yValue} °C in ${year}`;\n    };\n\n    newOption.series = [\n      {\n        name: 'marcott',\n        type: 'line',\n        showSymbol: false,\n        data,\n        areaStyle: {\n          normal: {\n            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n              offset: -1 * newOption.yAxis.min / newOption.yAxis.max - 0.2,\n              color: 'rgb(255, 64, 30)',\n            }, {\n              offset: 1,\n              color: 'rgb(180, 200, 255)',\n            }]),\n          },\n        },\n        markLine: {\n          data: [{ yAxis: data[data.length - 1][1], x: '70%' }],\n          label: {\n            normal: {\n              formatter() { return data[data.length - 1][0]; },\n              position: 'start',\n            },\n          },\n        },\n      },\n      {\n        name: 'last',\n        type: 'scatter',\n        data: [data[data.length - 1]],\n        symbolSize: 10,\n      },\n    ];\n    updateOption(newOption);\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  return (\n    <Graph>\n      <GraphTitle>Temperature anomalies in the last 11 000 years</GraphTitle>\n      <GraphDescription>&deg;C compared to 1951-1980 average</GraphDescription>\n      <ReactEcharts\n        option={option}\n        notMerge\n      />\n      <Source>\n        Source:\n        {' '}\n        <Link outward href=\"http://science.sciencemag.org/content/339/6124/1198\" target=\"_blank\" rel=\"noopener noreferrer\">A Reconstruction of Regional and Global Temperature for the Past 11,300 Years</Link>\n        {' '}\n        (\n        <Link outward href=\"http://science.sciencemag.org/content/suppl/2013/03/07/339.6124.1198.DC1\" target=\"_blank\" rel=\"noopener noreferrer\">data</Link>\n        ) before 1880,\n        {' '}\n        <Link outward href=\"https://climate.nasa.gov/vital-signs/global-temperature/\" target=\"_blank\" rel=\"noopener noreferrer\">NASA&apos;s Goddard Institute for Space Studies (GISS)</Link>\n        {' '}\n        (\n        <Link outward href=\"https://data.giss.nasa.gov/gistemp/graphs/graph_data/Global_Mean_Estimates_based_on_Land_and_Ocean_Data/graph.txt\" target=\"_blank\" rel=\"noopener noreferrer\">data</Link>\n        ) after 1880\n      </Source>\n    </Graph>\n  );\n};\n\nexport default TempAnnomalies;\n"],"names":["a","b","NaN","compare","f","ascendingBisect","length","d","x","left","lo","hi","mid","right","array","Array","prototype","e10","slice","map","Math","sqrt","e5","e2","start","stop","count","reverse","n","ticks","step","i","tickIncrement","isFinite","ceil","floor","max","power","log","LN10","error","pow","step0","abs","step1","values","valueof","value","m","sum","isNaN","arguments","range","EOL","EOF","QUOTE","NEWLINE","RETURN","objectConverter","columns","Function","name","JSON","stringify","join","inferColumns","rows","columnSet","Object","create","forEach","row","column","push","pad","width","s","formatDate","date","year","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","milliseconds","getUTCMilliseconds","getUTCFullYear","getUTCMonth","getUTCDate","delimiter","reFormat","RegExp","DELIMITER","charCodeAt","parseRows","text","t","N","I","eof","eol","token","c","j","replace","preformatBody","formatValue","formatRow","Date","test","parse","convert","object","customConverter","format","concat","formatBody","formatRows","responseText","response","ok","Error","status","statusText","input","init","fetch","then","Graph","styled","div","withConfig","displayName","componentId","Source","GraphTitle","GraphDescription","TempAnnomalies","option","updateOption","useState","initialOption","useEffect","async","marcottObj","gissObj","Promise","all","gissData","parseGiss","marcottData","dsvFormat","r","parseFloat","filter","marcottBaseline","delta","mean","data","newOption","xAxis","type","axisLabel","formatter","e","toString","min","yAxis","dataZoom","initialDataZoom","startValue","grid","bottom","tooltip","yValue","round","sign","xValue","marker","series","showSymbol","areaStyle","normal","color","echarts","LinearGradient","offset","markLine","label","position","symbolSize","loadData","React","ReactEcharts","notMerge","Link","outward","href","target","rel"],"sourceRoot":""}