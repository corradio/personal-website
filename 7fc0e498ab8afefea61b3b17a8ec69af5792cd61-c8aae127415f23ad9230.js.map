{"version":3,"sources":["webpack:///./src/pages/climatechange/graphs/personalFootprint.js","webpack:///./node_modules/d3-array/src/ascending.js","webpack:///./node_modules/d3-array/src/bisector.js","webpack:///./node_modules/d3-array/src/bisect.js","webpack:///./node_modules/d3-array/src/cross.js","webpack:///./node_modules/d3-array/src/descending.js","webpack:///./node_modules/d3-array/src/number.js","webpack:///./node_modules/d3-array/src/array.js","webpack:///./node_modules/d3-array/src/range.js","webpack:///./node_modules/d3-array/src/ticks.js","webpack:///./node_modules/d3-array/src/threshold/sturges.js","webpack:///./node_modules/d3-array/src/quantile.js","webpack:///./node_modules/d3-array/src/mean.js","webpack:///./node_modules/d3-array/src/sum.js"],"names":["echarts","world","Graph","styled","div","Source","GraphTitle","GraphDescription","PersonalFootprint","useState","initialOption","option","updateOption","useEffect","text","then","obj","data","split","filter","d","i","map","s","replace","indexOf","toString","name","intensity","population","sort","a","b","descending","totalPopulation","sum","forEach","totalEmissions","chartData","from","length","push","newOption","tooltip","trigger","formatter","e","componentType","dataIndex","Math","round","emissionPercent","series","type","roam","label","normal","show","emphasis","value","visualMap","min","max","left","top","calculable","notMerge","outward","href","target","NaN","f","compare","x","ascending","lo","hi","mid","right","ascendingBisect","bisector","bisectRight","bisect","Array","prototype","slice","start","stop","step","n","arguments","ceil","range","e10","sqrt","e5","e2","reverse","ticks","count","tickIncrement","isFinite","floor","power","log","LN10","error","pow","tickStep","step0","abs","step1","valueof","number","values","p","i0","value0","m","isNaN"],"mappings":"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","file":"7fc0e498ab8afefea61b3b17a8ec69af5792cd61-c8aae127415f23ad9230.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactEcharts from 'echarts-for-react';\nimport * as echarts from 'echarts';\nimport { text } from 'd3-fetch';\nimport { sum, descending } from 'd3-array';\nimport styled from 'styled-components';\n\nimport { Link } from 'gatsby';\nimport { initialOption } from './common';\nimport world from './world.json';\n\necharts.registerMap('world', world);\n\nconst Graph = styled.div`\n   width: 100%;\n    box-sizing: border-box;\n    margin-right: auto;\n    margin-left: auto;\n    padding-top: 1.5em;\n    padding-bottom: 1.5em;\n`;\n\nconst Source = styled.div`\n  font-size: small;\n`;\n\nconst GraphTitle = styled.div`\n  font-weight: bold;\n`;\n\nconst GraphDescription = styled.div`\n`;\n\nconst PersonalFootprint = () => {\n  const [option, updateOption] = useState(initialOption());\n\n  const loadData = () => {\n    text('/data/WorldResourcesInstituteCAIT.csv').then((obj) => {\n      const year = 2014;\n\n      const data = obj.split('\\n')\n        .filter((d, i) => i > 0)\n        .map(d => d.split(',\"').map(s => s.replace('\"', '').replace('\"', '')))\n        .filter(d => [\n          'World',\n          'European Union (28)',\n          'European Union (15)',\n        ].indexOf(d[0]) === -1\n          && d[1] === year.toString()\n          && d[4] !== '')\n        .map(d => ({\n          name: d[0],\n          intensity: +d[2] * 1e6 / +d[4], // excluding land use + forestry\n          population: +d[4] / 1e9, // in billions\n        }))\n        .sort((a, b) => descending(a.intensity, b.intensity));\n\n      // Convert to percentages\n      const totalPopulation = sum(data, d => d.population);\n      data.forEach((d) => {\n        d.population /= totalPopulation / 100;\n      });\n\n      const totalEmissions = sum(data, d => d.population * d.intensity);\n\n      // [from, to, height, name]\n      const chartData = [[0, data[0].population, data[0].intensity, data[0].name]];\n      data.forEach((d, i) => {\n        if (i === 0) { return; }\n        const from = chartData[chartData.length - 1][1];\n        chartData.push([\n          from,\n          from + d.population,\n          d.intensity,\n          d.name,\n        ]);\n      });\n\n      const newOption = {\n        tooltip: {\n          trigger: 'item',\n          formatter(e) {\n            if (e.componentType !== 'series') { return; }\n            const d = data[e.dataIndex];\n            if (!d) { return; }\n            const intensity = Math.round(d.intensity);\n            const emissionPercent = Math.round(d.population * d.intensity * 10000.0 / totalEmissions) / 100.0;\n            // eslint-disable-next-line consistent-return\n            return `${d.name}: ${intensity} tons / person / year <br />${emissionPercent}% of total emissions`;\n          },\n        },\n        series: [{\n          type: 'map',\n          map: 'world',\n          roam: null, // can be set to `true` or `pan`\n          label: {\n            normal: {\n              show: false,\n            },\n            emphasis: {\n              show: false,\n            },\n          },\n          data: data.map(d => ({ name: d.name, value: d.intensity })),\n        }],\n        visualMap: {\n          min: 0,\n          max: 20,\n          left: 'left',\n          top: 'bottom',\n          calculable: true,\n          formatter(d) { return `${Math.round(d)}t`; },\n        },\n      };\n      updateOption(newOption);\n    });\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n\n  return (\n    <Graph>\n      <GraphTitle>Average personal carbon footprint by country in 2014</GraphTitle>\n      <GraphDescription>\n        in tCO\n        <sub>2</sub>\n        eq per person per year\n      </GraphDescription>\n      <ReactEcharts\n        option={option}\n        notMerge\n      />\n      <Source>\n        Source:\n        {' '}\n        <Link outward href=\"http://www.wri.org/resources/data-sets/cait-historical-emissions-data-countries-us-states-unfccc\" target=\"_blank\">World Resource Institute</Link>\n        {' '}(\n        <Link outward href=\"http://cait.wri.org/historical/export/Country%20GHG%20Emissions/WorldResourcesInstituteCAIT.csv?&keyField=Country&unit=MtCO2e&unit=MtCO%E2%82%82e%E2%80%8D&unit=People&indicator[]=Total%20GHG%20Emissions%20Excluding%20Land-Use%20Change%20and%20Forestry&indicator[]=Total%20GHG%20Emissions%20Including%20Land-Use%20Change%20and%20Forestry&indicator[]=Population&year[]=2014&sortIdx=1&sortDir=desc&chartType=geo\" target=\"_blank\">data</Link>\n        )\n      </Source>\n    </Graph>\n  );\n};\n\nexport default PersonalFootprint;\n","export default function (a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}","import ascending from \"./ascending\";\nexport default function (compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function left(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n      }\n\n      return lo;\n    },\n    right: function right(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;else lo = mid + 1;\n      }\n\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function (d, x) {\n    return ascending(f(d), x);\n  };\n}","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;","import { pair } from \"./pairs\";\nexport default function (values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}","export default function (a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}","export default function (x) {\n  return x === null ? NaN : +x;\n}","var array = Array.prototype;\nexport var slice = array.slice;\nexport var map = array.map;","export default function (start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\nexport default function (start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n\n    while (++i < n) {\n      ticks[i] = (start + i) * step;\n    }\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n\n    while (++i < n) {\n      ticks[i] = (start - i) / step;\n    }\n  }\n\n  if (reverse) ticks.reverse();\n  return ticks;\n}\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;else if (error >= e5) step1 *= 5;else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}","export default function (values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}","import number from \"./number\";\nexport default function (values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}","import number from \"./number\";\nexport default function (values, valueof) {\n  var n = values.length,\n      m = n,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) sum += value;else --m;\n    }\n  } else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) sum += value;else --m;\n    }\n  }\n\n  if (m) return sum / m;\n}","export default function (values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (value = +values[i]) sum += value; // Note: zero and null are equivalent.\n    }\n  } else {\n    while (++i < n) {\n      if (value = +valueof(values[i], i, values)) sum += value;\n    }\n  }\n\n  return sum;\n}"],"sourceRoot":""}