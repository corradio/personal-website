{"version":3,"sources":["webpack:///./node_modules/d3-fetch/src/text.js","webpack:///./src/pages/climate-change/graphs/globalTemp.js"],"names":["responseText","response","ok","Error","status","statusText","text","fetch","input","init","then","Graph","styled","div","Source","GraphTitle","GraphDescription","GlobalTemp","useState","initialOption","option","updateOption","useEffect","gissObj","newOption","gissData","parseGiss","xData","map","d","yData","xyData","_","i","xAxis","type","min","Math","axisLabel","formatter","e","toString","max","yAxis","tooltip","value","data","sign","marker","series","name","showSymbol","areaStyle","normal","color","echarts","LinearGradient","offset","markLine","length","x","label","position","symbolSize","notMerge","outward","href","target","rel"],"mappings":"iGAAA,SAASA,EAAaC,GACpB,IAAKA,EAASC,GAAI,MAAM,IAAIC,MAAMF,EAASG,OAAS,IAAMH,EAASI,YACnE,OAAOJ,EAASK,OAGH,kBACb,OAAOC,MAAMC,EAAOC,GAAMC,KAAKV,K,iKCG3BW,EAAQC,IAAOC,IAAV,wEAAGD,CAAH,iHASLE,EAASF,IAAOC,IAAV,yEAAGD,CAAH,sBAING,EAAaH,IAAOC,IAAV,6EAAGD,CAAH,uBAIVI,EAAmBJ,IAAOC,IAAV,mFAAGD,CAAH,MA0GPK,UAvGI,WAAO,IAAD,EACQC,mBAASC,2BAAjCC,EADgB,KACRC,EADQ,KAqEvB,OAJAC,qBAAU,WA7DRhB,YAAK,8CAA8CI,MAAK,SAACa,GACvD,IAAMC,EAAYL,0BACZM,EAAWC,oBAAUH,GACrBI,EAAQF,EAASG,KAAI,SAAAC,GAAC,OAAKA,EAAE,MAC7BC,EAAQL,EAASG,KAAI,SAAAC,GAAC,OAAKA,EAAE,MAC7BE,EAASN,EAASG,KAAI,SAACI,EAAGC,GAAJ,MAAU,CAACN,EAAMM,GAAIH,EAAMG,OAEvDT,EAAUU,MAAMC,KAAO,QACvBX,EAAUU,MAAME,IAAMC,KAAKD,IAAL,MAAAC,KAAI,YAAQV,IAClCH,EAAUU,MAAMI,UAAY,CAC1BC,UAAW,SAAAC,GAAC,OAAIA,EAAEC,aAGpBjB,EAAUU,MAAMQ,IAAML,KAAKK,IAAL,MAAAL,KAAI,YAAQV,IAClCH,EAAUmB,MAAMP,KAAO,GACvBZ,EAAUmB,MAAMD,IAAM,IAEtBlB,EAAUoB,QAAQL,UAAY,SAACC,GAC7B,IAAMK,EAAQL,EAAE,GAAGM,KAAK,GAClBC,EAAOF,GAAS,EAAI,IAAM,GAChC,OAAUL,EAAE,GAAGQ,OAAf,KAAyBD,EAAOF,GAAhC,UAA+CL,EAAE,GAAGM,KAAK,IAG3DtB,EAAUyB,OAAS,CACjB,CACEC,KAAM,eACNf,KAAM,OACNgB,YAAY,EACZL,KAAMf,EACNqB,UAAW,CACTC,OAAQ,CACNC,MAAO,IAAIC,UAAgBC,eAAe,EAAG,EAAG,EAAG,EAAG,CAAC,CACrDC,QAAS,EAAIjC,EAAUmB,MAAMP,IAAMZ,EAAUmB,MAAMD,IACnDY,MAAO,mBACN,CACDG,OAAQ,EACRH,MAAO,yBAIbI,SAAU,CACRZ,KAAM,CAAC,CAAEH,MAAOb,EAAMA,EAAM6B,OAAS,GAAIC,EAAG,QAC5CC,MAAO,CACLR,OAAQ,CACNd,UAAW,kBAAMZ,EAAMA,EAAMgC,OAAS,IACtCG,SAAU,YAKlB,CACEZ,KAAM,OACNf,KAAM,UACNW,KAAM,CAACf,EAAOA,EAAO4B,OAAS,IAC9BI,WAAY,KAGhB1C,EAAaG,QAMd,IAGD,kBAACb,EAAD,KACE,kBAACI,EAAD,8BACA,kBAACC,EAAD,yCACA,kBAAC,IAAD,CACEI,OAAQA,EACR4C,UAAQ,IAEV,kBAAClD,EAAD,eAEG,IACD,kBAAC,IAAD,CACEmD,SAAO,EACPC,KAAK,2DACLC,OAAO,SACPC,IAAI,uBAJN,qDAQC,IAXH,IAYE,kBAAC,IAAD,CACEH,SAAO,EACPC,KAAK,0GACLC,OAAO,SACPC,IAAI,uBAJN,QAZF","file":"component---src-pages-climate-change-graphs-global-temp-js-f16710c2d2cf1e5bbd66.js","sourcesContent":["function responseText(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.text();\n}\n\nexport default function (input, init) {\n  return fetch(input, init).then(responseText);\n}","import React, { useState, useEffect } from 'react';\nimport ReactEcharts from 'echarts-for-react';\nimport * as echarts from 'echarts';\nimport { text } from 'd3-fetch';\nimport styled from 'styled-components';\n\nimport { Link } from 'gatsby';\nimport { initialOption, parseGiss, initialDataZoom } from './common';\n\nconst Graph = styled.div`\n   width: 100%;\n    box-sizing: border-box;\n    margin-right: auto;\n    margin-left: auto;\n    padding-top: 1.5em;\n    padding-bottom: 1.5em;\n`;\n\nconst Source = styled.div`\n  font-size: small;\n`;\n\nconst GraphTitle = styled.div`\n  font-weight: bold;\n`;\n\nconst GraphDescription = styled.div`\n`;\n\nconst GlobalTemp = () => {\n  const [option, updateOption] = useState(initialOption());\n\n  const loadData = () => {\n    text('/data/647_Global_Temperature_Data_File.txt').then((gissObj) => {\n      const newOption = initialOption();\n      const gissData = parseGiss(gissObj);\n      const xData = gissData.map(d => +d[0]);\n      const yData = gissData.map(d => +d[1]);\n      const xyData = gissData.map((_, i) => [xData[i], yData[i]]);\n\n      newOption.xAxis.type = 'value';\n      newOption.xAxis.min = Math.min(...xData);\n      newOption.xAxis.axisLabel = {\n        formatter: e => e.toString(),\n      };\n\n      newOption.xAxis.max = Math.max(...xData);\n      newOption.yAxis.min = -0.7;\n      newOption.yAxis.max = 1.2;\n\n      newOption.tooltip.formatter = (e) => {\n        const value = e[0].data[1];\n        const sign = value >= 0 ? '+' : '';\n        return `${e[0].marker} ${sign + value} Â°C in ${e[0].data[0]}`;\n      };\n\n      newOption.series = [\n        {\n          name: 'nasa_giss_1y',\n          type: 'line',\n          showSymbol: false,\n          data: xyData,\n          areaStyle: {\n            normal: {\n              color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                offset: -1 * newOption.yAxis.min / newOption.yAxis.max,\n                color: 'rgb(242, 0, 80)',\n              }, {\n                offset: 1,\n                color: 'rgb(247, 83, 187)',\n              }]),\n            },\n          },\n          markLine: {\n            data: [{ yAxis: yData[yData.length - 1], x: '70%' }],\n            label: {\n              normal: {\n                formatter: () => xData[xData.length - 1],\n                position: 'start',\n              },\n            },\n          },\n        },\n        {\n          name: 'last',\n          type: 'scatter',\n          data: [xyData[xyData.length - 1]],\n          symbolSize: 10,\n        },\n      ];\n      updateOption(newOption);\n    });\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  return (\n    <Graph>\n      <GraphTitle>Temperature anomalies</GraphTitle>\n      <GraphDescription>&deg;C compared to 1951-1980 average</GraphDescription>\n      <ReactEcharts\n        option={option}\n        notMerge\n      />\n      <Source>\n        Source:\n        {' '}\n        <Link\n          outward\n          href=\"https://climate.nasa.gov/vital-signs/global-temperature/\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          NASA&#39;s Goddard Institute for Space Studies (GISS)\n        </Link>\n        {' '}(\n        <Link\n          outward\n          href=\"http://climate.nasa.gov/system/internal_resources/details/original/647_Global_Temperature_Data_File.txt\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          data\n        </Link>\n        )\n      </Source>\n    </Graph>\n  );\n};\n\nexport default GlobalTemp;\n"],"sourceRoot":""}